CCS PCD C Compiler, Version 5.015, 5967               05-Aug-25 23:56

               Filename:   D:\Code\Discovery\Discovery\main.lst

               ROM used:   5736 bytes (7%)
                           Largest free fragment is 59800
               RAM used:   258 (2%) at main() level
                           278 (2%) worst case
               Stack size: 128

*
00000:  GOTO    14BA
.................... #include <System.c> 
.................... #include <main.h> 
.................... #include <33FJ128MC710.h> 
.................... //////////// Standard Header file for the DSPIC33FJ128MC710 device //////////////// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... ////        (C) Copyright 1996, 2013 Custom Computer Services          //// 
.................... //// This source code may only be used by licensed users of the CCS C  //// 
.................... //// compiler.  This source code may only be distributed to other      //// 
.................... //// licensed users of the CCS C compiler.  No other use, reproduction //// 
.................... //// or distribution is permitted without written permission.          //// 
.................... //// Derivative programs created using this software in object code    //// 
.................... //// form are not restricted in any way.                               //// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... #device DSPIC33FJ128MC710 
*
00200:  CLR     32
00202:  MOV     #20C,W3
00204:  ADD     W3,W0,W0
00206:  TBLRDL.B[W0],W0L
00208:  CLR.B   1
0020A:  RETURN  
0020C:  DATA    43,4F,00
0020E:  DATA    4E,4E,00
00210:  DATA    45,43,00
00212:  DATA    54,20,00
00214:  DATA    43,4F,00
00216:  DATA    4D,50,00
00218:  DATA    55,54,00
0021A:  DATA    45,52,00
0021C:  DATA    00,00,00
0021E:  CLR     32
00220:  MOV     #22A,W3
00222:  ADD     W3,W0,W0
00224:  TBLRDL.B[W0],W0L
00226:  CLR.B   1
00228:  RETURN  
0022A:  DATA    2E,2E,00
0022C:  DATA    2E,2E,00
0022E:  DATA    2E,2E,00
00230:  DATA    2E,2E,00
00232:  DATA    2E,2E,00
00234:  DATA    2E,2E,00
00236:  DATA    2E,2E,00
00238:  DATA    2E,2E,00
0023A:  DATA    00,00,00
0023C:  CLR     32
0023E:  MOV     #248,W3
00240:  ADD     W3,W0,W0
00242:  TBLRDL.B[W0],W0L
00244:  CLR.B   1
00246:  RETURN  
00248:  DATA    2D,4C,00
0024A:  DATA    4F,43,00
0024C:  DATA    41,4C,00
0024E:  DATA    20,43,00
00250:  DATA    4F,4E,00
00252:  DATA    54,52,00
00254:  DATA    4F,4C,00
00256:  DATA    20,2D,00
00258:  DATA    00,00,00
0025A:  CLR     32
0025C:  MOV     #266,W3
0025E:  ADD     W3,W0,W0
00260:  TBLRDL.B[W0],W0L
00262:  CLR.B   1
00264:  RETURN  
00266:  DATA    53,45,00
00268:  DATA    54,55,00
0026A:  DATA    50,20,00
0026C:  DATA    50,53,00
0026E:  DATA    20,4F,00
00270:  DATA    4E,2F,00
00272:  DATA    4F,46,00
00274:  DATA    46,3A,00
00276:  DATA    00,00,00
00278:  CLR     32
0027A:  MOV     #284,W3
0027C:  ADD     W3,W0,W0
0027E:  TBLRDL.B[W0],W0L
00280:  CLR.B   1
00282:  RETURN  
00284:  DATA    50,4F,00
00286:  DATA    57,45,00
00288:  DATA    52,3A,00
0028A:  DATA    20,4F,00
0028C:  DATA    46,46,00
0028E:  DATA    20,20,00
00290:  DATA    20,20,00
00292:  DATA    20,20,00
00294:  DATA    20,20,00
00296:  DATA    00,00,00
00298:  CLR     32
0029A:  MOV     #2A4,W3
0029C:  ADD     W3,W0,W0
0029E:  TBLRDL.B[W0],W0L
002A0:  CLR.B   1
002A2:  RETURN  
002A4:  DATA    50,4F,00
002A6:  DATA    57,45,00
002A8:  DATA    52,3A,00
002AA:  DATA    20,4F,00
002AC:  DATA    4E,20,00
002AE:  DATA    20,20,00
002B0:  DATA    20,20,00
002B2:  DATA    20,20,00
002B4:  DATA    20,20,00
002B6:  DATA    00,00,00
002B8:  CLR     32
002BA:  MOV     #2C4,W3
002BC:  ADD     W3,W0,W0
002BE:  TBLRDL.B[W0],W0L
002C0:  CLR.B   1
002C2:  RETURN  
002C4:  DATA    41,4D,00
002C6:  DATA    45,54,00
002C8:  DATA    45,52,00
002CA:  DATA    20,49,00
002CC:  DATA    31,3A,00
002CE:  DATA    20,25,00
002D0:  DATA    64,2E,00
002D2:  DATA    25,64,00
002D4:  DATA    25,64,00
002D6:  DATA    41,00,00
002D8:  CLR     32
002DA:  MOV     #2E4,W3
002DC:  ADD     W3,W0,W0
002DE:  TBLRDL.B[W0],W0L
002E0:  CLR.B   1
002E2:  RETURN  
002E4:  DATA    41,4D,00
002E6:  DATA    45,54,00
002E8:  DATA    45,52,00
002EA:  DATA    20,49,00
002EC:  DATA    31,3A,00
002EE:  DATA    2D,25,00
002F0:  DATA    64,2E,00
002F2:  DATA    25,64,00
002F4:  DATA    25,64,00
002F6:  DATA    41,00,00
002F8:  CLR     32
002FA:  MOV     #304,W3
002FC:  ADD     W3,W0,W0
002FE:  TBLRDL.B[W0],W0L
00300:  CLR.B   1
00302:  RETURN  
00304:  DATA    41,4D,00
00306:  DATA    45,54,00
00308:  DATA    45,52,00
0030A:  DATA    20,49,00
0030C:  DATA    32,3A,00
0030E:  DATA    20,25,00
00310:  DATA    64,2E,00
00312:  DATA    25,64,00
00314:  DATA    25,64,00
00316:  DATA    41,00,00
00318:  CLR     32
0031A:  MOV     #324,W3
0031C:  ADD     W3,W0,W0
0031E:  TBLRDL.B[W0],W0L
00320:  CLR.B   1
00322:  RETURN  
00324:  DATA    41,4D,00
00326:  DATA    45,54,00
00328:  DATA    45,52,00
0032A:  DATA    20,49,00
0032C:  DATA    32,3A,00
0032E:  DATA    2D,25,00
00330:  DATA    64,2E,00
00332:  DATA    25,64,00
00334:  DATA    25,64,00
00336:  DATA    41,00,00
*
00D3E:  MOV     W5,[W15++]
00D40:  MOV     #C,W5
00D42:  REPEAT  #3
00D44:  MOV     [W5++],[W15++]
00D46:  MOV     #0,W9
00D48:  BTSC.B  43.0
00D4A:  MOV     #1,W9
00D4C:  MOV     W9,[W15++]
00D4E:  CLR     W4
00D50:  CLR     W5
00D52:  CLR     W6
00D54:  CLR     W7
00D56:  XOR     W2,W3,W8
00D58:  BRA     Z,D7C
00D5A:  MOV     #20,W8
00D5C:  BCLR.B  42.0
00D5E:  RLC     W0,W0
00D60:  RLC     W1,W1
00D62:  RLC     W4,W4
00D64:  RLC     W5,W5
00D66:  CP      W5,W3
00D68:  BRA     NZ,D6C
00D6A:  CPB     W4,W2
00D6C:  BRA     NC,D74
00D6E:  SUB     W4,W2,W4
00D70:  SUBB    W5,W3,W5
00D72:  BSET.B  42.0
00D74:  RLC     W6,W6
00D76:  RLC     W7,W7
00D78:  DEC     W8,W8
00D7A:  BRA     NZ,D5C
00D7C:  MOV     W7,W1
00D7E:  MOV     W6,W0
00D80:  MOV     [--W15],W9
00D82:  CP0     W9
00D84:  BRA     Z,D88
00D86:  MOV.D   W4,W0
00D88:  MOV     #12,W5
00D8A:  REPEAT  #3
00D8C:  MOV     [--W15],[W5--]
00D8E:  MOV     [--W15],W5
00D90:  RETURN  
*
00E1A:  MOV     W5,[W15++]
00E1C:  MOV     #C,W5
00E1E:  REPEAT  #3
00E20:  MOV     [W5++],[W15++]
00E22:  MOV     W0,W4
00E24:  MOV     W1,W5
00E26:  MOV     W2,W6
00E28:  MOV     W3,W7
00E2A:  CLR     W0
00E2C:  CLR     W1
00E2E:  CLR     W2
00E30:  CLR     W3
00E32:  BCLR    W8.0
00E34:  BTSS    W7.F
00E36:  BRA     E42
00E38:  BSET    W8.0
00E3A:  NEG     W4,W4
00E3C:  COM     W5,W5
00E3E:  COM     W6,W6
00E40:  COM     W7,W7
00E42:  IOR      W4,  W5,W9
00E44:  BRA     NZ,E4A
00E46:  IOR      W6,  W7,W9
00E48:  BRA     Z,E74
00E4A:  MOV     #473,W9
00E4C:  BTSC    W3.4
00E4E:  BRA     E66
00E50:  BCLR.B  42.0
00E52:  RLC     W4,W4
00E54:  RLC     W5,W5
00E56:  RLC     W6,W6
00E58:  RLC     W7,W7
00E5A:  RLC     W0,W0
00E5C:  RLC     W1,W1
00E5E:  RLC     W2,W2
00E60:  RLC     W3,W3
00E62:  DEC     W9,W9
00E64:  BRA     NZ,E4C
00E66:  SL      W9,#4,W9
00E68:  BCLR.B  42.0
00E6A:  BCLR    W9.F
00E6C:  BCLR    W3.4
00E6E:  XOR     W9,W3,W3
00E70:  BTSC    W8.0
00E72:  BSET    W3.F
00E74:  MOV     #12,W5
00E76:  REPEAT  #3
00E78:  MOV     [--W15],[W5--]
00E7A:  MOV     [--W15],W5
00E7C:  RETURN  
00E7E:  MOV     W8,[W15++]
00E80:  MOV     #12,W8
00E82:  REPEAT  #4
00E84:  MOV     [W8++],[W15++]
00E86:  XOR     W3,W7,W13
00E88:  MOV     W3,W8
00E8A:  MOV     W7,W9
00E8C:  MOV     #7FF,W10
00E8E:  BCLR.B  42.0
00E90:  BCLR.B  42.1
00E92:  ASR     W8,#4,W8
00E94:  AND     W10,W8,W8
00E96:  CP0     W8
00E98:  BRA     Z,F72
00E9A:  BCLR.B  42.0
00E9C:  BCLR.B  42.1
00E9E:  ASR     W9,#4,W9
00EA0:  AND     W10,W9,W9
00EA2:  CP0     W9
00EA4:  BRA     Z,F72
00EA6:  CLR     W10
00EA8:  SUB     W8,W9,W12
00EAA:  BRA     NC,EB2
00EAC:  ADD     #3FF,W12
00EAE:  BRA     C,F72
00EB0:  BRA     EBA
00EB2:  MOV     #401,W11
00EB4:  SUB     W12,W11,W12
00EB6:  BRA     NC,F72
00EB8:  BRA     Z,F72
00EBA:  CLR     W8
00EBC:  CLR     W9
00EBE:  CLR     W10
00EC0:  CLR     W11
00EC2:  AND     #1F,W3
00EC4:  BSET    W3.4
00EC6:  AND     #1F,W7
00EC8:  BSET    W7.4
00ECA:  MOV     W12,[W15++]
00ECC:  MOV     #36,W12
00ECE:  SUB     W0,W4,W0
00ED0:  SUBB    W1,W5,W1
00ED2:  SUBB    W2,W6,W2
00ED4:  SUBB    W3,W7,W3
00ED6:  BRA     N,EDC
00ED8:  BRA     C,EE6
00EDA:  BRA     NZ,EE8
00EDC:  ADD     W0,W4,W0
00EDE:  ADDC    W1,W5,W1
00EE0:  ADDC    W2,W6,W2
00EE2:  ADDC    W3,W7,W3
00EE4:  BRA     EE8
00EE6:  BSET    W8.0
00EE8:  DEC     W12,W12
00EEA:  BRA     Z,F02
00EEC:  BCLR.B  42.0
00EEE:  RLC     W0,W0
00EF0:  RLC     W1,W1
00EF2:  RLC     W2,W2
00EF4:  RLC     W3,W3
00EF6:  BCLR.B  42.0
00EF8:  RLC     W8,W8
00EFA:  RLC     W9,W9
00EFC:  RLC     W10,W10
00EFE:  RLC     W11,W11
00F00:  BRA     ECE
00F02:  MOV     [--W15],W12
00F04:  BTSC    W11.5
00F06:  BRA     F0A
00F08:  BRA     F16
00F0A:  BCLR.B  42.0
00F0C:  RRC     W11,W11
00F0E:  RRC     W10,W10
00F10:  RRC     W9,W9
00F12:  RRC     W8,W8
00F14:  BRA     F1C
00F16:  DEC     W12,W12
00F18:  BCLR.B  42.0
00F1A:  BRA     Z,F72
00F1C:  BTSC.B  42.0
00F1E:  BRA     F32
00F20:  RLC     W0,W0
00F22:  RLC     W1,W1
00F24:  RLC     W2,W2
00F26:  RLC     W3,W3
00F28:  SUB     W0,W4,W4
00F2A:  SUBB    W1,W5,W5
00F2C:  SUBB    W2,W6,W6
00F2E:  SUBB    W3,W7,W7
00F30:  BRA     NC,F5C
00F32:  INC     W8,W8
00F34:  BRA     NZ,F5C
00F36:  INC     W9,W9
00F38:  BRA     NZ,F5C
00F3A:  INC     W10,W10
00F3C:  BRA     NZ,F5C
00F3E:  INC     W11,W11
00F40:  BRA     NZ,F5C
00F42:  INC     W12,W12
00F44:  BRA     Z,F72
00F46:  BRA     F5C
00F48:  DEC     W12,W12
00F4A:  BRA     Z,F72
00F4C:  BTSC    W11.4
00F4E:  BRA     F5C
00F50:  BCLR.B  42.0
00F52:  RLC     W8,W8
00F54:  RLC     W9,W9
00F56:  RLC     W10,W10
00F58:  RLC     W11,W11
00F5A:  BRA     F4C
00F5C:  SL      W12,#4,W12
00F5E:  BCLR.B  42.0
00F60:  BCLR    W12.F
00F62:  BTSC    W13.F
00F64:  BSET    W12.F
00F66:  BCLR    W11.4
00F68:  XOR     W12,W11,W3
00F6A:  MOV     W10,W2
00F6C:  MOV     W9,W1
00F6E:  MOV     W8,W0
00F70:  BRA     F7C
00F72:  MOV     #0,W0
00F74:  MOV     #0,W1
00F76:  MOV     #0,W2
00F78:  MOV     #0,W3
00F7A:  BRA     F7C
00F7C:  MOV     #1A,W8
00F7E:  REPEAT  #4
00F80:  MOV     [--W15],[W8--]
00F82:  MOV     [--W15],W8
00F84:  RETURN  
00F86:  MOV     W5,[W15++]
00F88:  MOV     #C,W5
00F8A:  REPEAT  #5
00F8C:  MOV     [W5++],[W15++]
00F8E:  MOV     W3,W8
00F90:  MOV     W2,W7
00F92:  MOV     W1,W6
00F94:  MOV     W0,W5
00F96:  MOV     W3,W9
00F98:  MOV     #473,W11
00F9A:  ASR     W3,#4,W3
00F9C:  MOV     #7FF,W10
00F9E:  AND     W10,W3,W3
00FA0:  SUB     W11,W3,W11
00FA2:  AND     #1F,W8
00FA4:  BSET    W8.4
00FA6:  CLR     W0
00FA8:  CLR     W1
00FAA:  CLR     W2
00FAC:  CLR     W3
00FAE:  BCLR.B  42.0
00FB0:  RRC     W8,W8
00FB2:  RRC     W7,W7
00FB4:  RRC     W6,W6
00FB6:  RRC     W5,W5
00FB8:  RRC     W3,W3
00FBA:  RRC     W2,W2
00FBC:  RRC     W1,W1
00FBE:  RRC     W0,W0
00FC0:  DEC     W11,W11
00FC2:  BRA     NZ,FAE
00FC4:  BTSS    W9.F
00FC6:  BRA     FD2
00FC8:  NEG     W0,W0
00FCA:  COM     W1,W1
00FCC:  COM     W2,W2
00FCE:  COM     W3,W3
00FD0:  BRA     FD2
00FD2:  MOV     #16,W5
00FD4:  REPEAT  #5
00FD6:  MOV     [--W15],[W5--]
00FD8:  MOV     [--W15],W5
00FDA:  RETURN  
00FDC:  MOV     W5,[W15++]
00FDE:  MOV     #C,W5
00FE0:  REPEAT  #3
00FE2:  MOV     [W5++],[W15++]
00FE4:  BTSS    W0.F
00FE6:  BRA     1000
00FE8:  NEG     W0,W0
00FEA:  BSET    W4.8
00FEC:  BTSS    W4.F
00FEE:  BRA     1000
00FF0:  MOV     W0,[W15++]
00FF2:  MOV     #2D,W0
00FF4:  MOV     W0,886
00FF6:  CALL    D2C
00FFA:  MOV     [--W15],W0
00FFC:  BCLR    W4.8
00FFE:  DEC.B   0008
01000:  CLR     W5
01002:  MOV     W0,W7
01004:  MOV     W4,W9
01006:  BCLR    W4.F
01008:  CP0.B   W4L
0100A:  BRA     NZ,1018
0100C:  BTSC    W9.F
0100E:  BRA     1014
01010:  MOV     #0,W5
01012:  BRA     1032
01014:  MOV     #0,W5
01016:  BRA     1032
01018:  SUB.B   W4L,#6,W5L
0101A:  BRA     NC,1030
0101C:  MOV     #30,W0
0101E:  BTSS    W9.F
01020:  MOV     #20,W0
01022:  MOV     W0,886
01024:  CALL    D2C
01028:  DEC     W5,W5
0102A:  BRA     NN,1022
0102C:  MOV     #5,W5
0102E:  BRA     1032
01030:  MOV     W4,W5
01032:  MOV     #6,W4
01034:  BTSC    W5.8
01036:  INC     W4,W4
01038:  BSET    W5.E
0103A:  BTSC    W9.F
0103C:  BSET    W5.F
0103E:  MOV     #2710,W8
01040:  REPEAT  #11
01042:  DIV.U   W7,W8
01044:  CALL    1088
01048:  MOV     W1,W7
0104A:  MOV     #3E8,W8
0104C:  REPEAT  #11
0104E:  DIV.U   W7,W8
01050:  CALL    1088
01054:  MOV     W1,W7
01056:  MOV     #64,W8
01058:  REPEAT  #11
0105A:  DIV.U   W7,W8
0105C:  CALL    1088
01060:  MOV     W1,W7
01062:  MOV     #A,W8
01064:  REPEAT  #11
01066:  DIV.U   W7,W8
01068:  CALL    1088
0106C:  BTSS    W9.8
0106E:  BRA     107A
01070:  MOV     #2D,W0
01072:  MOV     W0,886
01074:  CALL    D2C
01078:  BCLR    W9.8
0107A:  MOV     #30,W0
0107C:  ADD.B   W1L,W0L,W0L
0107E:  MOV     W0,2A
01080:  MOV     W0,886
01082:  CALL    D2C
01086:  BRA     10CC
01088:  MOV     #30,W6
0108A:  CP0     W0
0108C:  BRA     NZ,10AA
0108E:  BTSS    W5.E
01090:  BRA     10BE
01092:  DEC     W4,W4
01094:  CP.B    W4L,W5L
01096:  BRA     Z,109C
01098:  BTSC.B  42.0
0109A:  RETURN  
0109C:  CP0     W0
0109E:  BRA     NZ,10AA
010A0:  BTSS    W5.E
010A2:  BRA     10BE
010A4:  BTSS    W5.F
010A6:  MOV     #20,W6
010A8:  BRA     10BE
010AA:  BCLR    W5.E
010AC:  BTSS    W9.8
010AE:  BRA     10BE
010B0:  MOV     W0,W10
010B2:  MOV     #2D,W0
010B4:  MOV     W0,886
010B6:  CALL    D2C
010BA:  BCLR    W9.8
010BC:  MOV     W10,W0
010BE:  ADD.B   W6L,W0L,W0L
010C0:  MOV     W1,[W15++]
010C2:  MOV     W0,886
010C4:  CALL    D2C
010C8:  MOV     [--W15],W1
010CA:  RETURN  
010CC:  MOV     #12,W5
010CE:  REPEAT  #3
010D0:  MOV     [--W15],[W5--]
010D2:  MOV     [--W15],W5
010D4:  RETURN  
....................  
.................... #list 
....................  
.................... #device adc = 12 
....................  
.................... #FUSES NOWDT                    //No Watch Dog Timer 
.................... #FUSES NOWRTB                   //Boot block not write protected                
.................... #FUSES NORSS                    //No secure segment RAM 
.................... #FUSES NOWRTSS                  //Secure segment not write protected 
.................... #FUSES NOPROTECT                //Code not protected from reading 
.................... #FUSES PR                       //Primary Oscillator 
.................... #FUSES IESO                     //Internal External Switch Over mode enabled 
.................... #FUSES HS                       //High speed Osc (> 4mhz for PCM/PCH) (>10mhz for PCD) 
.................... #FUSES CKSFSM                   //Clock Switching is enabled, fail Safe clock monitor is enabled 
.................... #FUSES NOPWMPIN                 //PWM outputs drive active state upon Reset 
.................... #FUSES NOJTAG                   //JTAG disabled 
.................... #FUSES NODEBUG                  //No Debug mode for ICD 
....................  
.................... #use delay(crystal=20000000) 
*
00338:  CP0     W0
0033A:  BTSC.B  42.1
0033C:  BRA     346
0033E:  REPEAT  #270B
00340:  NOP     
00342:  DEC     W0,W0
00344:  BRA     NZ,33E
00346:  RETURN  
....................  
....................  
.................... #include <Lcd4bit.c> 
.................... #include <Lcd4bit.h> 
.................... #define LCD_RS   PIN_B5 
.................... #define LCD_RW   PIN_B6 
.................... #define LCD_E    PIN_B7  
....................  
.................... #define LCD_D4   PIN_B8  
.................... #define LCD_D5   PIN_B9   
.................... #define LCD_D6   PIN_B10 
.................... #define LCD_D7   PIN_B11   
....................  
.................... void lcd_enable(void); 
.................... void lcd_send_4bit_data ( unsigned char cX ); 
.................... void lcd_send_command (unsigned char cX ); 
.................... void lcd_init (void ); 
.................... void lcd_gotoxy(unsigned char x, unsigned char y); 
.................... void lcd_clear(void); 
.................... void lcd_putchar ( unsigned int16 cX ); 
.................... void lcd_puts (char *s); 
.................... void lcd_putcharInt(unsigned int16 val); 
.................... ///////////////// 
.................... void test(int16 test); 
....................  
....................  
....................  
.................... // Ham Khoi Tao LCD 
....................  void lcd_enable(void) 
.................... { 
....................    output_high(LCD_E);    
*
003A2:  BCLR.B  2C6.7
003A4:  BSET.B  2CA.7
....................    delay_us(20);        
003A6:  REPEAT  #C6
003A8:  NOP     
....................    output_low(LCD_E); 
003AA:  BCLR.B  2C6.7
003AC:  BCLR.B  2CA.7
....................    delay_us(20);     
003AE:  REPEAT  #C6
003B0:  NOP     
003B2:  RETURN  
.................... } 
.................... // -------------------------------------------------- 
.................... // Ham Gui 4 Bit Du Lieu Ra LCD 
....................  void lcd_send_4bit_data ( unsigned char cX ) 
*
00348:  MOV     W5,[W15++]
.................... { 
....................    output_bit(LCD_D4,cX & 0x01);  
0034A:  MOV.B   88E,W0L
0034C:  CLR.B   1
0034E:  AND     W0,#1,W0
00350:  CP0     W0
00352:  BRA     NZ,358
00354:  BCLR.B  2CB.0
00356:  BRA     35A
00358:  BSET.B  2CB.0
0035A:  BCLR.B  2C7.0
....................    output_bit(LCD_D5,(cX>>1)&1); 
0035C:  MOV     88E,W5
0035E:  CLR.B   B
00360:  CLR.B   B
00362:  LSR     W5,#1,W5
00364:  AND     W5,#1,W0
00366:  CP0     W0
00368:  BRA     NZ,36E
0036A:  BCLR.B  2CB.1
0036C:  BRA     370
0036E:  BSET.B  2CB.1
00370:  BCLR.B  2C7.1
....................    output_bit(LCD_D6,(cX>>2)&1); 
00372:  MOV     88E,W5
00374:  CLR.B   B
00376:  CLR.B   B
00378:  LSR     W5,#2,W5
0037A:  AND     W5,#1,W0
0037C:  CP0     W0
0037E:  BRA     NZ,384
00380:  BCLR.B  2CB.2
00382:  BRA     386
00384:  BSET.B  2CB.2
00386:  BCLR.B  2C7.2
....................    output_bit(LCD_D7,(cX>>3)&1); 
00388:  MOV     88E,W5
0038A:  CLR.B   B
0038C:  CLR.B   B
0038E:  LSR     W5,#3,W5
00390:  AND     W5,#1,W0
00392:  CP0     W0
00394:  BRA     NZ,39A
00396:  BCLR.B  2CB.3
00398:  BRA     39C
0039A:  BSET.B  2CB.3
0039C:  BCLR.B  2C7.3
0039E:  MOV     [--W15],W5
003A0:  RETURN  
.................... } 
....................  
.................... // -------------------------------------------------- 
.................... // Ham Gui 1 Lenh Cho LCD 
....................  void lcd_send_command (unsigned char cX ) 
*
003B4:  MOV     W5,[W15++]
.................... { 
....................    lcd_send_4bit_data ( cX >>4 );       // send 4 bit high   
003B6:  MOV     88A,W5
003B8:  CLR.B   B
003BA:  CLR.B   B
003BC:  LSR     W5,#4,W5
003BE:  PUSH    88E
003C0:  MOV.B   W5L,[W15-#2]
003C2:  POP     88E
003C4:  CALL    348
....................    lcd_enable() ; 
003C8:  CALL    3A2
....................    lcd_send_4bit_data ( cX  );                // send 4 bit low   
003CC:  MOV.B   88A,W0L
003CE:  MOV.B   W0L,88E
003D0:  CALL    348
....................    lcd_enable() ; 
003D4:  CALL    3A2
003D8:  MOV     [--W15],W5
003DA:  RETURN  
.................... } 
....................  
.................... // -------------------------------------------------- 
.................... // Ham Khoi Tao LCD 
....................  void lcd_init ( void ) 
.................... { 
....................    //lcd_send_4bit_data ( 0x00 ); 
....................    //delay_ms(200); 
....................     
....................    output_low(LCD_RS);    
003DC:  BCLR.B  2C6.5
003DE:  BCLR.B  2CA.5
....................    output_low(LCD_RW); 
003E0:  BCLR.B  2C6.6
003E2:  BCLR.B  2CA.6
....................    output_low(LCD_E);                                                   // che do gui lenh 
003E4:  BCLR.B  2C6.7
003E6:  BCLR.B  2CA.7
....................     
....................    lcd_send_4bit_data ( 0x03 );          // ket noi 8 bit 
003E8:  MOV.B   #3,W0L
003EA:  MOV.B   W0L,88E
003EC:  CALL    348
....................    lcd_enable() ; 
003F0:  CALL    3A2
....................    lcd_enable() ; 
003F4:  CALL    3A2
....................    lcd_enable() ; 
003F8:  CALL    3A2
....................    lcd_send_4bit_data ( 0x02 );               // ket noi 4 bit 
003FC:  MOV.B   #2,W0L
003FE:  MOV.B   W0L,88E
00400:  CALL    348
....................    lcd_enable() ; 
00404:  CALL    3A2
....................     
....................    lcd_send_command( 0x28 );                  
00408:  MOV.B   #28,W0L
0040A:  MOV.B   W0L,88A
0040C:  CALL    3B4
....................    lcd_send_command( 0x06 ); 
00410:  MOV.B   #6,W0L
00412:  MOV.B   W0L,88A
00414:  CALL    3B4
....................    lcd_send_command( 0x0c );                    
00418:  MOV.B   #C,W0L
0041A:  MOV.B   W0L,88A
0041C:  CALL    3B4
....................    lcd_send_command( 0x01 );                   
00420:  MOV.B   #1,W0L
00422:  MOV.B   W0L,88A
00424:  CALL    3B4
....................    lcd_send_command( 0x08 );          
00428:  MOV.B   #8,W0L
0042A:  MOV.B   W0L,88A
0042C:  CALL    3B4
00430:  RETURN  
.................... } 
....................  
.................... // -------------------------------------------------- 
.................... // Ham Thiet Lap Vi Tri Con Tro 
.................... void lcd_gotoxy(unsigned char x, unsigned char y) 
.................... { 
....................   unsigned char address; 
....................   if(y == 0)address = (0x80+x); 
*
00CE2:  CP0.B   87F
00CE4:  BRA     NZ,CEC
00CE6:  MOV     #80,W0
00CE8:  ADD.B   87E,W0L
00CEA:  MOV.B   W0L,880
....................   if(y == 1)address = (0xc0+x); 
00CEC:  MOV     87E,W4
00CEE:  LSR     W4,#8,W4
00CF0:  CP.B    W4L,#1
00CF2:  BRA     NZ,CFA
00CF4:  MOV     #C0,W0
00CF6:  ADD.B   87E,W0L
00CF8:  MOV.B   W0L,880
....................   if(y == 2)address = (0x94+x); 
00CFA:  MOV     87E,W4
00CFC:  LSR     W4,#8,W4
00CFE:  CP.B    W4L,#2
00D00:  BRA     NZ,D08
00D02:  MOV     #94,W0
00D04:  ADD.B   87E,W0L
00D06:  MOV.B   W0L,880
....................   if(y == 3)address = (0xd4+x); 
00D08:  MOV     87E,W4
00D0A:  LSR     W4,#8,W4
00D0C:  CP.B    W4L,#3
00D0E:  BRA     NZ,D16
00D10:  MOV     #D4,W0
00D12:  ADD.B   87E,W0L
00D14:  MOV.B   W0L,880
....................   delay_ms(3); 
00D16:  REPEAT  #352E
00D18:  NOP     
00D1A:  REPEAT  #3FFF
00D1C:  NOP     
....................   lcd_send_command(address); 
00D1E:  MOV.B   880,W0L
00D20:  MOV.B   W0L,88A
00D22:  CALL    3B4
....................   delay_ms(1); 
00D26:  REPEAT  #270E
00D28:  NOP     
00D2A:  RETURN  
.................... } 
.................... // -------------------------------------------------- 
.................... // Ham Xoa Man Hinh LCD 
.................... void lcd_clear(void) 
.................... { 
....................    lcd_send_command(0x01);   
....................   //delay_us(300); 
.................... } 
....................  
.................... // -------------------------------------------------- 
.................... // Ham Gui 1 Ky Tu Len LCD 
....................  void lcd_putchar ( unsigned int16 cX ) 
.................... { 
....................      output_high(LCD_RS);    
00D2C:  BCLR.B  2C6.5
00D2E:  BSET.B  2CA.5
....................      lcd_send_command( cX ); 
00D30:  MOV.B   886,W0L
00D32:  MOV.B   W0L,88A
00D34:  CALL    3B4
....................      output_low(LCD_RS); 
00D38:  BCLR.B  2C6.5
00D3A:  BCLR.B  2CA.5
00D3C:  RETURN  
.................... } 
....................  
.................... // -------------------------------------------------- 
.................... void lcd_putcharInt(unsigned int16 val) 
.................... { 
....................    unsigned char i, j, num[5]; 
....................    i = 0; 
....................    while(val > 9) 
....................    { 
....................       num[i] = val%10 + 0x30; 
....................       val = val/10; 
....................       i++; 
....................    } 
....................    num[i] = val + 0x30; 
....................    for(j = 0; j <= i; j++) 
....................    { 
....................  
....................       lcd_putchar(num[i - j]); 
....................    } 
.................... } 
.................... // Ham Gui 1 Chuoi Ky Tu Len LCD 
.................... void lcd_puts(char *s) 
.................... { 
....................    while (*s) 
....................    { 
....................          lcd_putchar(*s); 
....................       s++; 
....................    } 
.................... } 
....................  
....................  
.................... #define Add_SW1   PIN_A3 
.................... #define Add_SW2   PIN_A4 
.................... #define Add_SW3   PIN_A5 
.................... #define Add_SW4   PIN_A6 
.................... #define Dat_SW    PIN_A7 
.................... #define Crt_SW    PIN_F8 
....................  
.................... #define Add_Led1  PIN_A10 
.................... #define Add_Led2  PIN_A9 
.................... #define Add_Led3  PIN_A14 
.................... #define Add_Led4  PIN_A15 
....................  
.................... #define Dat_Led   PIN_B1 
....................  
.................... #define Seg7_A1   PIN_G2 
.................... #define Seg7_A2   PIN_G3 
.................... #define Seg7_A3   PIN_G6 
.................... #define Seg7_A4   PIN_G7 
....................  
.................... #define Seg7_B1   PIN_F12 
.................... #define Seg7_B2   PIN_F13 
.................... #define Seg7_B3   PIN_G0 
.................... #define Seg7_B4   PIN_G1 
....................  
.................... #define PX        PIN_D0 
.................... #define PY        PIN_D1 
.................... #define PULSEA    PIN_G9 
.................... #define PULSEA_   PIN_G8 
.................... #define PULSEB    PIN_C13 
.................... #define PULSEB_   PIN_C14 
....................  
.................... #define ON_5V     PIN_E6 
.................... #define ON_12V    PIN_E7 
.................... #define ON_5V_    PIN_E8 
.................... #define ON_12V_   PIN_E9 
....................  
.................... #define LED1      PIN_D2 
.................... #define LED2      PIN_D3 
.................... #define LED3      PIN_D4 
.................... #define LED4      PIN_D5 
.................... #define LED5      PIN_D6 
.................... #define LED6      PIN_D7 
.................... #define LED7      PIN_D8 
.................... #define LED8      PIN_D9 
....................  
.................... #define MD  PIN_G14 
.................... #define UP  PIN_G15 
.................... #define DW  PIN_G12 
.................... #define EX  PIN_G13 
....................  
.................... unsigned char data_switch = 0; 
.................... unsigned char data_singled = 0; 
.................... unsigned char data_seg7_led1 = 0; 
.................... unsigned char data_seg7_led2 = 0; 
.................... unsigned char dat1 = 0,dat2 = 0,dat3 = 0; 
.................... unsigned char data = 0; 
....................  
.................... unsigned char power_on_5V = 1; 
.................... unsigned char power_on_12V = 1; 
.................... unsigned char power_on_5V_ = 1; 
.................... unsigned char power_on_12V_ = 1; 
.................... unsigned char power_on = 1; 
....................  
.................... unsigned char re_local = 0; 
.................... unsigned char setup_mode = 0; 
.................... unsigned int16 val_adc1 = 0,val_adc2 = 0; 
.................... unsigned int16 curren_displayA = 0,curren_displayB = 0; 
.................... unsigned char flag_currA = 0,flag_currB = 0; 
....................  
.................... unsigned int32 M[25]; 
....................  
.................... void Switch_control (unsigned char flag); 
.................... void Single_Seg7_led_read (void); 
.................... void Main_init (void); 
.................... void Pulse_switch (unsigned char flag); 
.................... void Control_supply (unsigned char flag); 
.................... unsigned char Check_connect_computer (void); 
.................... void control_button (void); 
.................... unsigned int16 multi_read_adc (unsigned int8 channel,unsigned int16 samling); 
.................... Void Read_current (void); 
....................  
.................... void Main_init (void) 
.................... { 
....................    set_tris_A(0xFFFF); 
*
00432:  SETM    2C0
....................    set_tris_B(0x000C); 
00434:  MOV     #C,W4
00436:  MOV     W4,2C6
....................    set_tris_C(0x901F); 
00438:  MOV     #901F,W4
0043A:  MOV     W4,2CC
....................    set_tris_E(0x003F); 
0043C:  MOV     #3F,W4
0043E:  MOV     W4,2D8
....................    set_tris_F(0xFF00); 
00440:  MOV     #FF00,W4
00442:  MOV     W4,2DE
....................    set_tris_D(0xFFFF); 
00444:  SETM    2D2
....................    set_tris_G(0xFCFF); 
00446:  MOV     #FCFF,W4
00448:  MOV     W4,2E4
....................    output_A(0x0000); 
0044A:  CLR     2C0
0044C:  CLR     2C4
....................    delay_ms(50); 
0044E:  MOV     #32,W0
00450:  CALL    338
....................    lcd_init(); 
00454:  CALL    3DC
....................    delay_ms(50); 
00458:  MOV     #32,W0
0045A:  CALL    338
....................    setup_adc(ADC_CLOCK_DIV_8|ADC_TAD_MUL_8); 
0045E:  MOV     #807,W4
00460:  MOV     W4,324
00462:  MOV     #84E0,W4
00464:  MOV     W4,320
....................    setup_adc_ports(sAN18|sAN19|VSS_VDD); 
00466:  SETM    32C
00468:  MOV     #FFF3,W4
0046A:  MOV     W4,32A
0046C:  CLR     322
0046E:  RETURN  
.................... } 
....................  
.................... int1 check_bit = 1; 
.................... void main() 
*
014BA:  MOV     #3F80,W15
014BC:  MOV     #3FFF,W0
014BE:  MOV     W0,20
014C0:  NOP     
014C2:  BSET.B  81.7
014C4:  CLR.B   800
014C6:  CLR.B   801
014C8:  CLR.B   802
014CA:  CLR.B   803
014CC:  CLR.B   804
014CE:  CLR.B   805
014D0:  CLR.B   806
014D2:  CLR.B   807
014D4:  MOV.B   #1,W0L
014D6:  MOV.B   W0L,808
014D8:  MOV.B   #1,W0L
014DA:  MOV.B   W0L,809
014DC:  MOV.B   #1,W0L
014DE:  MOV.B   W0L,80A
014E0:  MOV.B   #1,W0L
014E2:  MOV.B   W0L,80B
014E4:  MOV.B   #1,W0L
014E6:  MOV.B   W0L,80C
014E8:  CLR.B   80D
014EA:  CLR.B   80E
014EC:  CLR     810
014EE:  CLR     812
014F0:  CLR     814
014F2:  CLR     816
014F4:  CLR.B   80F
014F6:  CLR.B   818
014F8:  BSET.B  819.0
014FA:  SETM    32C
014FC:  SETM    32A
014FE:  SETM    36C
01500:  SETM    36A
.................... { 
....................    Main_init(); 
01502:  CALL    432
....................    while(TRUE) 
....................    {   
....................       data_singled = (input_D() >> 2)&0x00FF; 
01506:  SETM    2D2
01508:  MOV     2D4,W5
0150A:  LSR     W5,#2,W5
0150C:  MOV     W5,W4
0150E:  MOV.B   W4L,W0L
01510:  MOV.B   W0L,801
....................       data_seg7_led1 = input(Seg7_A1) + input(Seg7_A2)*2 + input(Seg7_A3)*4 + input(Seg7_A4)*8; 
01512:  BSET.B  2E4.2
01514:  CLR     W0
01516:  BTSC.B  2E6.2
01518:  INC     W0,W0
0151A:  MOV.B   W0L,W5L
0151C:  BSET.B  2E4.3
0151E:  CLR     W0
01520:  BTSC.B  2E6.3
01522:  INC     W0,W0
01524:  CLR.B   1
01526:  SL      W0,#1,W0
01528:  ZE      W5,W5
0152A:  CLR.B   B
0152C:  ADD     W0,W5,W5
0152E:  BSET.B  2E4.6
01530:  CLR     W0
01532:  BTSC.B  2E6.6
01534:  INC     W0,W0
01536:  CLR.B   1
01538:  SL      W0,#2,W0
0153A:  ADD     W0,W5,W5
0153C:  BSET.B  2E4.7
0153E:  CLR     W0
01540:  BTSC.B  2E6.7
01542:  INC     W0,W0
01544:  CLR.B   1
01546:  SL      W0,#3,W0
01548:  ADD.B   W0L,W5L,W0L
0154A:  MOV.B   W0L,802
....................       data_seg7_led2 = input(Seg7_B1) + input(Seg7_B2)*2 + input(Seg7_B3)*4 + input(Seg7_B4)*8; 
0154C:  BSET.B  2DF.4
0154E:  CLR     W0
01550:  BTSC.B  2E1.4
01552:  INC     W0,W0
01554:  MOV.B   W0L,W5L
01556:  BSET.B  2DF.5
01558:  CLR     W0
0155A:  BTSC.B  2E1.5
0155C:  INC     W0,W0
0155E:  CLR.B   1
01560:  SL      W0,#1,W0
01562:  ZE      W5,W5
01564:  CLR.B   B
01566:  ADD     W0,W5,W5
01568:  BSET.B  2E4.0
0156A:  CLR     W0
0156C:  BTSC.B  2E6.0
0156E:  INC     W0,W0
01570:  CLR.B   1
01572:  SL      W0,#2,W0
01574:  ADD     W0,W5,W5
01576:  BSET.B  2E4.1
01578:  CLR     W0
0157A:  BTSC.B  2E6.1
0157C:  INC     W0,W0
0157E:  CLR.B   1
01580:  SL      W0,#3,W0
01582:  ADD.B   W0L,W5L,W0L
01584:  MOV.B   W0L,803
....................       check_bit = Check_connect_computer(); 
01586:  CALL    470
0158A:  BCLR.B  819.0
0158C:  BTSC.B  0.0
0158E:  BSET.B  819.0
....................       if(check_bit == 1) 
01590:  BTSS.B  819.0
01592:  BRA     15FA
....................       { 
....................          Switch_control(1);      
01594:  MOV.B   #1,W0L
01596:  MOV.B   W0L,87E
01598:  CALL    510
....................          Single_Seg7_led_read(); 
0159C:  CALL    73A
....................          Pulse_switch(1); 
015A0:  MOV.B   #1,W0L
015A2:  MOV.B   W0L,87E
015A4:  CALL    A64
....................          Control_supply(1); 
015A8:  MOV.B   #1,W0L
015AA:  MOV.B   W0L,87E
015AC:  CALL    B50
....................          lcd_gotoxy(0,0); 
015B0:  CLR.B   87E
015B2:  CLR.B   87F
015B4:  CALL    CE2
....................          printf(lcd_putchar,"CONNECT COMPUTER");  
015B8:  MOV     #0,W1
015BA:  MOV     W1,W0
015BC:  CLR.B   1
015BE:  CALL    200
015C2:  INC     W1,W1
015C4:  MOV     W1,[W15++]
015C6:  MOV     W0,886
015C8:  CALL    D2C
015CC:  MOV     [--W15],W1
015CE:  MOV     #F,W0
015D0:  CPSGT   W1,W0
015D2:  BRA     15BA
....................          lcd_gotoxy(0,1); 
015D4:  CLR.B   87E
015D6:  MOV.B   #1,W0L
015D8:  MOV.B   W0L,87F
015DA:  CALL    CE2
....................          printf(lcd_putchar,"................"); 
015DE:  MOV     #0,W1
015E0:  MOV     W1,W0
015E2:  CLR.B   1
015E4:  CALL    21E
015E8:  INC     W1,W1
015EA:  MOV     W1,[W15++]
015EC:  MOV     W0,886
015EE:  CALL    D2C
015F2:  MOV     [--W15],W1
015F4:  MOV     #F,W0
015F6:  CPSGT   W1,W0
015F8:  BRA     15E0
....................       } 
....................       if(check_bit ==0) 
015FA:  BTSC.B  819.0
015FC:  BRA     1662
....................       { 
....................          Switch_control(0);      
015FE:  CLR.B   87E
01600:  CALL    510
....................          Pulse_switch(0); 
01604:  CLR.B   87E
01606:  CALL    A64
....................          Control_supply(0); 
0160A:  CLR.B   87E
0160C:  CALL    B50
....................          control_button(); 
01610:  CALL    13DE
....................          if(setup_mode == 0) 
01614:  CP0.B   80E
01616:  BRA     NZ,1662
....................          { 
....................             lcd_gotoxy(0,0); 
01618:  CLR.B   87E
0161A:  CLR.B   87F
0161C:  CALL    CE2
....................             printf(lcd_putchar,"-LOCAL CONTROL -");  
01620:  MOV     #0,W1
01622:  MOV     W1,W0
01624:  CLR.B   1
01626:  CALL    23C
0162A:  INC     W1,W1
0162C:  MOV     W1,[W15++]
0162E:  MOV     W0,886
01630:  CALL    D2C
01634:  MOV     [--W15],W1
01636:  MOV     #F,W0
01638:  CPSGT   W1,W0
0163A:  BRA     1622
....................             lcd_gotoxy(0,1); 
0163C:  CLR.B   87E
0163E:  MOV.B   #1,W0L
01640:  MOV.B   W0L,87F
01642:  CALL    CE2
....................             printf(lcd_putchar,"................"); 
01646:  MOV     #0,W1
01648:  MOV     W1,W0
0164A:  CLR.B   1
0164C:  CALL    21E
01650:  INC     W1,W1
01652:  MOV     W1,[W15++]
01654:  MOV     W0,886
01656:  CALL    D2C
0165A:  MOV     [--W15],W1
0165C:  MOV     #F,W0
0165E:  CPSGT   W1,W0
01660:  BRA     1648
....................          } 
....................       } 
01662:  GOTO    1506
....................    } 
.................... } 
.................... void Switch_control (unsigned char flag) 
*
00510:  MOV     W5,[W15++]
00512:  MOV     #C,W5
00514:  REPEAT  #3
00516:  MOV     [W5++],[W15++]
*
01666:  PWRSAV  #0
.................... { 
....................    if(flag == 1) 
*
00518:  MOV     87E,W4
0051A:  CP.B    W4L,#1
0051C:  BRA     NZ,726
....................    { 
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
0051E:  BSET.B  2C0.3
00520:  BTSS.B  2C2.3
00522:  BRA     53E
00524:  BSET.B  2C0.4
00526:  BTSS.B  2C2.4
00528:  BRA     53E
0052A:  BSET.B  2C0.5
0052C:  BTSS.B  2C2.5
0052E:  BRA     53E
00530:  BSET.B  2C0.6
00532:  BTSC.B  2C2.6
00534:  BRA     53E
00536:  BSET.B  2C0.7
00538:  BTSC.B  2C2.7
0053A:  BRA     53E
....................       data_switch = data_switch&0xFE; 
0053C:  BCLR.B  800.0
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
0053E:  BSET.B  2C0.3
00540:  BTSS.B  2C2.3
00542:  BRA     55E
00544:  BSET.B  2C0.4
00546:  BTSS.B  2C2.4
00548:  BRA     55E
0054A:  BSET.B  2C0.5
0054C:  BTSS.B  2C2.5
0054E:  BRA     55E
00550:  BSET.B  2C0.6
00552:  BTSC.B  2C2.6
00554:  BRA     55E
00556:  BSET.B  2C0.7
00558:  BTSS.B  2C2.7
0055A:  BRA     55E
....................       data_switch = data_switch|0x01; 
0055C:  BSET.B  800.0
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
0055E:  BSET.B  2C0.3
00560:  BTSC.B  2C2.3
00562:  BRA     57E
00564:  BSET.B  2C0.4
00566:  BTSS.B  2C2.4
00568:  BRA     57E
0056A:  BSET.B  2C0.5
0056C:  BTSS.B  2C2.5
0056E:  BRA     57E
00570:  BSET.B  2C0.6
00572:  BTSC.B  2C2.6
00574:  BRA     57E
00576:  BSET.B  2C0.7
00578:  BTSC.B  2C2.7
0057A:  BRA     57E
....................       data_switch = data_switch&0xFD; 
0057C:  BCLR.B  800.1
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
0057E:  BSET.B  2C0.3
00580:  BTSC.B  2C2.3
00582:  BRA     59E
00584:  BSET.B  2C0.4
00586:  BTSS.B  2C2.4
00588:  BRA     59E
0058A:  BSET.B  2C0.5
0058C:  BTSS.B  2C2.5
0058E:  BRA     59E
00590:  BSET.B  2C0.6
00592:  BTSC.B  2C2.6
00594:  BRA     59E
00596:  BSET.B  2C0.7
00598:  BTSS.B  2C2.7
0059A:  BRA     59E
....................       data_switch = data_switch|0x02; 
0059C:  BSET.B  800.1
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
0059E:  BSET.B  2C0.3
005A0:  BTSS.B  2C2.3
005A2:  BRA     5BE
005A4:  BSET.B  2C0.4
005A6:  BTSC.B  2C2.4
005A8:  BRA     5BE
005AA:  BSET.B  2C0.5
005AC:  BTSS.B  2C2.5
005AE:  BRA     5BE
005B0:  BSET.B  2C0.6
005B2:  BTSC.B  2C2.6
005B4:  BRA     5BE
005B6:  BSET.B  2C0.7
005B8:  BTSC.B  2C2.7
005BA:  BRA     5BE
....................       data_switch = data_switch&0xFB; 
005BC:  BCLR.B  800.2
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
005BE:  BSET.B  2C0.3
005C0:  BTSS.B  2C2.3
005C2:  BRA     5DE
005C4:  BSET.B  2C0.4
005C6:  BTSC.B  2C2.4
005C8:  BRA     5DE
005CA:  BSET.B  2C0.5
005CC:  BTSS.B  2C2.5
005CE:  BRA     5DE
005D0:  BSET.B  2C0.6
005D2:  BTSC.B  2C2.6
005D4:  BRA     5DE
005D6:  BSET.B  2C0.7
005D8:  BTSS.B  2C2.7
005DA:  BRA     5DE
....................       data_switch = data_switch|0x04;   
005DC:  BSET.B  800.2
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
005DE:  BSET.B  2C0.3
005E0:  BTSC.B  2C2.3
005E2:  BRA     5FE
005E4:  BSET.B  2C0.4
005E6:  BTSC.B  2C2.4
005E8:  BRA     5FE
005EA:  BSET.B  2C0.5
005EC:  BTSS.B  2C2.5
005EE:  BRA     5FE
005F0:  BSET.B  2C0.6
005F2:  BTSC.B  2C2.6
005F4:  BRA     5FE
005F6:  BSET.B  2C0.7
005F8:  BTSC.B  2C2.7
005FA:  BRA     5FE
....................       data_switch = data_switch&0xF7; 
005FC:  BCLR.B  800.3
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
005FE:  BSET.B  2C0.3
00600:  BTSC.B  2C2.3
00602:  BRA     61E
00604:  BSET.B  2C0.4
00606:  BTSC.B  2C2.4
00608:  BRA     61E
0060A:  BSET.B  2C0.5
0060C:  BTSS.B  2C2.5
0060E:  BRA     61E
00610:  BSET.B  2C0.6
00612:  BTSC.B  2C2.6
00614:  BRA     61E
00616:  BSET.B  2C0.7
00618:  BTSS.B  2C2.7
0061A:  BRA     61E
....................       data_switch = data_switch|0x08;   
0061C:  BSET.B  800.3
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
0061E:  BSET.B  2C0.3
00620:  BTSS.B  2C2.3
00622:  BRA     63E
00624:  BSET.B  2C0.4
00626:  BTSS.B  2C2.4
00628:  BRA     63E
0062A:  BSET.B  2C0.5
0062C:  BTSC.B  2C2.5
0062E:  BRA     63E
00630:  BSET.B  2C0.6
00632:  BTSC.B  2C2.6
00634:  BRA     63E
00636:  BSET.B  2C0.7
00638:  BTSC.B  2C2.7
0063A:  BRA     63E
....................       data_switch = data_switch&0xEF; 
0063C:  BCLR.B  800.4
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
0063E:  BSET.B  2C0.3
00640:  BTSS.B  2C2.3
00642:  BRA     65E
00644:  BSET.B  2C0.4
00646:  BTSS.B  2C2.4
00648:  BRA     65E
0064A:  BSET.B  2C0.5
0064C:  BTSC.B  2C2.5
0064E:  BRA     65E
00650:  BSET.B  2C0.6
00652:  BTSC.B  2C2.6
00654:  BRA     65E
00656:  BSET.B  2C0.7
00658:  BTSS.B  2C2.7
0065A:  BRA     65E
....................       data_switch = data_switch|0x10;   
0065C:  BSET.B  800.4
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
0065E:  BSET.B  2C0.3
00660:  BTSC.B  2C2.3
00662:  BRA     67E
00664:  BSET.B  2C0.4
00666:  BTSS.B  2C2.4
00668:  BRA     67E
0066A:  BSET.B  2C0.5
0066C:  BTSC.B  2C2.5
0066E:  BRA     67E
00670:  BSET.B  2C0.6
00672:  BTSC.B  2C2.6
00674:  BRA     67E
00676:  BSET.B  2C0.7
00678:  BTSC.B  2C2.7
0067A:  BRA     67E
....................       data_switch = data_switch&0xDF; 
0067C:  BCLR.B  800.5
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
0067E:  BSET.B  2C0.3
00680:  BTSC.B  2C2.3
00682:  BRA     69E
00684:  BSET.B  2C0.4
00686:  BTSS.B  2C2.4
00688:  BRA     69E
0068A:  BSET.B  2C0.5
0068C:  BTSC.B  2C2.5
0068E:  BRA     69E
00690:  BSET.B  2C0.6
00692:  BTSC.B  2C2.6
00694:  BRA     69E
00696:  BSET.B  2C0.7
00698:  BTSS.B  2C2.7
0069A:  BRA     69E
....................       data_switch = data_switch|0x20;  
0069C:  BSET.B  800.5
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
0069E:  BSET.B  2C0.3
006A0:  BTSS.B  2C2.3
006A2:  BRA     6BE
006A4:  BSET.B  2C0.4
006A6:  BTSC.B  2C2.4
006A8:  BRA     6BE
006AA:  BSET.B  2C0.5
006AC:  BTSC.B  2C2.5
006AE:  BRA     6BE
006B0:  BSET.B  2C0.6
006B2:  BTSC.B  2C2.6
006B4:  BRA     6BE
006B6:  BSET.B  2C0.7
006B8:  BTSC.B  2C2.7
006BA:  BRA     6BE
....................       data_switch = data_switch&0xBF; 
006BC:  BCLR.B  800.6
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
006BE:  BSET.B  2C0.3
006C0:  BTSS.B  2C2.3
006C2:  BRA     6DE
006C4:  BSET.B  2C0.4
006C6:  BTSC.B  2C2.4
006C8:  BRA     6DE
006CA:  BSET.B  2C0.5
006CC:  BTSC.B  2C2.5
006CE:  BRA     6DE
006D0:  BSET.B  2C0.6
006D2:  BTSC.B  2C2.6
006D4:  BRA     6DE
006D6:  BSET.B  2C0.7
006D8:  BTSS.B  2C2.7
006DA:  BRA     6DE
....................       data_switch = data_switch|0x40; 
006DC:  BSET.B  800.6
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 0)) 
006DE:  BSET.B  2C0.3
006E0:  BTSC.B  2C2.3
006E2:  BRA     6FE
006E4:  BSET.B  2C0.4
006E6:  BTSC.B  2C2.4
006E8:  BRA     6FE
006EA:  BSET.B  2C0.5
006EC:  BTSC.B  2C2.5
006EE:  BRA     6FE
006F0:  BSET.B  2C0.6
006F2:  BTSC.B  2C2.6
006F4:  BRA     6FE
006F6:  BSET.B  2C0.7
006F8:  BTSC.B  2C2.7
006FA:  BRA     6FE
....................       data_switch = data_switch&0x7F; 
006FC:  BCLR.B  800.7
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 0)&&(input(Dat_SW) == 1)) 
006FE:  BSET.B  2C0.3
00700:  BTSC.B  2C2.3
00702:  BRA     71E
00704:  BSET.B  2C0.4
00706:  BTSC.B  2C2.4
00708:  BRA     71E
0070A:  BSET.B  2C0.5
0070C:  BTSC.B  2C2.5
0070E:  BRA     71E
00710:  BSET.B  2C0.6
00712:  BTSC.B  2C2.6
00714:  BRA     71E
00716:  BSET.B  2C0.7
00718:  BTSS.B  2C2.7
0071A:  BRA     71E
....................       data_switch = data_switch|0x80; 
0071C:  BSET.B  800.7
....................       output_F(0x0100|data_switch); 
0071E:  MOV     800,W5
00720:  IOR     #100,W5
00722:  CLR     2DE
00724:  MOV     W5,2E2
....................    } 
....................    if(flag == 0)output_F(0x00FF); 
00726:  CP0.B   87E
00728:  BRA     NZ,730
0072A:  CLR     2DE
0072C:  MOV     #FF,W4
0072E:  MOV     W4,2E2
00730:  MOV     #12,W5
00732:  REPEAT  #3
00734:  MOV     [--W15],[W5--]
00736:  MOV     [--W15],W5
00738:  RETURN  
.................... } 
.................... void Single_Seg7_led_read (void) 
0073A:  MOV     W5,[W15++]
0073C:  MOV     W6,[W15++]
0073E:  MOV     W7,[W15++]
00740:  MOV     W8,[W15++]
.................... { 
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 0)) 
00742:  BSET.B  2C1.2
00744:  BTSC.B  2C3.2
00746:  BRA     770
00748:  BSET.B  2C1.1
0074A:  BTSC.B  2C3.1
0074C:  BRA     770
0074E:  BSET.B  2C1.6
00750:  BTSC.B  2C3.6
00752:  BRA     770
00754:  BSET.B  2C1.7
00756:  BTSC.B  2C3.7
00758:  BRA     770
....................       {output_bit(Dat_Led,input(LED1));delay_ms(2);} 
0075A:  BSET.B  2D2.2
0075C:  BTSC.B  2D4.2
0075E:  BRA     764
00760:  BCLR.B  2CA.1
00762:  BRA     766
00764:  BSET.B  2CA.1
00766:  BCLR.B  2C6.1
00768:  REPEAT  #E1E
0076A:  NOP     
0076C:  REPEAT  #3FFF
0076E:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 0)) 
00770:  BSET.B  2C1.2
00772:  BTSS.B  2C3.2
00774:  BRA     79E
00776:  BSET.B  2C1.1
00778:  BTSC.B  2C3.1
0077A:  BRA     79E
0077C:  BSET.B  2C1.6
0077E:  BTSC.B  2C3.6
00780:  BRA     79E
00782:  BSET.B  2C1.7
00784:  BTSC.B  2C3.7
00786:  BRA     79E
....................       {output_bit(Dat_Led,input(LED2));delay_ms(2);} 
00788:  BSET.B  2D2.3
0078A:  BTSC.B  2D4.3
0078C:  BRA     792
0078E:  BCLR.B  2CA.1
00790:  BRA     794
00792:  BSET.B  2CA.1
00794:  BCLR.B  2C6.1
00796:  REPEAT  #E1E
00798:  NOP     
0079A:  REPEAT  #3FFF
0079C:  NOP     
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 0)) 
0079E:  BSET.B  2C1.2
007A0:  BTSC.B  2C3.2
007A2:  BRA     7CC
007A4:  BSET.B  2C1.1
007A6:  BTSS.B  2C3.1
007A8:  BRA     7CC
007AA:  BSET.B  2C1.6
007AC:  BTSC.B  2C3.6
007AE:  BRA     7CC
007B0:  BSET.B  2C1.7
007B2:  BTSC.B  2C3.7
007B4:  BRA     7CC
....................       {output_bit(Dat_Led,input(LED3));delay_ms(2);} 
007B6:  BSET.B  2D2.4
007B8:  BTSC.B  2D4.4
007BA:  BRA     7C0
007BC:  BCLR.B  2CA.1
007BE:  BRA     7C2
007C0:  BSET.B  2CA.1
007C2:  BCLR.B  2C6.1
007C4:  REPEAT  #E1E
007C6:  NOP     
007C8:  REPEAT  #3FFF
007CA:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 0)) 
007CC:  BSET.B  2C1.2
007CE:  BTSS.B  2C3.2
007D0:  BRA     7FA
007D2:  BSET.B  2C1.1
007D4:  BTSS.B  2C3.1
007D6:  BRA     7FA
007D8:  BSET.B  2C1.6
007DA:  BTSC.B  2C3.6
007DC:  BRA     7FA
007DE:  BSET.B  2C1.7
007E0:  BTSC.B  2C3.7
007E2:  BRA     7FA
....................       {output_bit(Dat_Led,input(LED4));delay_ms(2);} 
007E4:  BSET.B  2D2.5
007E6:  BTSC.B  2D4.5
007E8:  BRA     7EE
007EA:  BCLR.B  2CA.1
007EC:  BRA     7F0
007EE:  BSET.B  2CA.1
007F0:  BCLR.B  2C6.1
007F2:  REPEAT  #E1E
007F4:  NOP     
007F6:  REPEAT  #3FFF
007F8:  NOP     
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 0)) 
007FA:  BSET.B  2C1.2
007FC:  BTSC.B  2C3.2
007FE:  BRA     828
00800:  BSET.B  2C1.1
00802:  BTSC.B  2C3.1
00804:  BRA     828
00806:  BSET.B  2C1.6
00808:  BTSS.B  2C3.6
0080A:  BRA     828
0080C:  BSET.B  2C1.7
0080E:  BTSC.B  2C3.7
00810:  BRA     828
....................       {output_bit(Dat_Led,input(LED5));delay_ms(2);} 
00812:  BSET.B  2D2.6
00814:  BTSC.B  2D4.6
00816:  BRA     81C
00818:  BCLR.B  2CA.1
0081A:  BRA     81E
0081C:  BSET.B  2CA.1
0081E:  BCLR.B  2C6.1
00820:  REPEAT  #E1E
00822:  NOP     
00824:  REPEAT  #3FFF
00826:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 0)) 
00828:  BSET.B  2C1.2
0082A:  BTSS.B  2C3.2
0082C:  BRA     856
0082E:  BSET.B  2C1.1
00830:  BTSC.B  2C3.1
00832:  BRA     856
00834:  BSET.B  2C1.6
00836:  BTSS.B  2C3.6
00838:  BRA     856
0083A:  BSET.B  2C1.7
0083C:  BTSC.B  2C3.7
0083E:  BRA     856
....................       {output_bit(Dat_Led,input(LED6));delay_ms(2);} 
00840:  BSET.B  2D2.7
00842:  BTSC.B  2D4.7
00844:  BRA     84A
00846:  BCLR.B  2CA.1
00848:  BRA     84C
0084A:  BSET.B  2CA.1
0084C:  BCLR.B  2C6.1
0084E:  REPEAT  #E1E
00850:  NOP     
00852:  REPEAT  #3FFF
00854:  NOP     
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 0)) 
00856:  BSET.B  2C1.2
00858:  BTSC.B  2C3.2
0085A:  BRA     884
0085C:  BSET.B  2C1.1
0085E:  BTSS.B  2C3.1
00860:  BRA     884
00862:  BSET.B  2C1.6
00864:  BTSS.B  2C3.6
00866:  BRA     884
00868:  BSET.B  2C1.7
0086A:  BTSC.B  2C3.7
0086C:  BRA     884
....................       {output_bit(Dat_Led,input(LED7));delay_ms(2);} 
0086E:  BSET.B  2D3.0
00870:  BTSC.B  2D5.0
00872:  BRA     878
00874:  BCLR.B  2CA.1
00876:  BRA     87A
00878:  BSET.B  2CA.1
0087A:  BCLR.B  2C6.1
0087C:  REPEAT  #E1E
0087E:  NOP     
00880:  REPEAT  #3FFF
00882:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 0)) 
00884:  BSET.B  2C1.2
00886:  BTSS.B  2C3.2
00888:  BRA     8B2
0088A:  BSET.B  2C1.1
0088C:  BTSS.B  2C3.1
0088E:  BRA     8B2
00890:  BSET.B  2C1.6
00892:  BTSS.B  2C3.6
00894:  BRA     8B2
00896:  BSET.B  2C1.7
00898:  BTSC.B  2C3.7
0089A:  BRA     8B2
....................       {output_bit(Dat_Led,input(LED8));delay_ms(2);} 
0089C:  BSET.B  2D3.1
0089E:  BTSC.B  2D5.1
008A0:  BRA     8A6
008A2:  BCLR.B  2CA.1
008A4:  BRA     8A8
008A6:  BSET.B  2CA.1
008A8:  BCLR.B  2C6.1
008AA:  REPEAT  #E1E
008AC:  NOP     
008AE:  REPEAT  #3FFF
008B0:  NOP     
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 1)) 
008B2:  BSET.B  2C1.2
008B4:  BTSC.B  2C3.2
008B6:  BRA     8E4
008B8:  BSET.B  2C1.1
008BA:  BTSC.B  2C3.1
008BC:  BRA     8E4
008BE:  BSET.B  2C1.6
008C0:  BTSC.B  2C3.6
008C2:  BRA     8E4
008C4:  BSET.B  2C1.7
008C6:  BTSS.B  2C3.7
008C8:  BRA     8E4
....................       {output_bit(Dat_Led,data_seg7_led1&0x0001);delay_ms(2);} 
008CA:  MOV.B   802,W0L
008CC:  CLR.B   1
008CE:  AND     W0,#1,W0
008D0:  CP0     W0
008D2:  BRA     NZ,8D8
008D4:  BCLR.B  2CA.1
008D6:  BRA     8DA
008D8:  BSET.B  2CA.1
008DA:  BCLR.B  2C6.1
008DC:  REPEAT  #E1E
008DE:  NOP     
008E0:  REPEAT  #3FFF
008E2:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 1)) 
008E4:  BSET.B  2C1.2
008E6:  BTSS.B  2C3.2
008E8:  BRA     91A
008EA:  BSET.B  2C1.1
008EC:  BTSC.B  2C3.1
008EE:  BRA     91A
008F0:  BSET.B  2C1.6
008F2:  BTSC.B  2C3.6
008F4:  BRA     91A
008F6:  BSET.B  2C1.7
008F8:  BTSS.B  2C3.7
008FA:  BRA     91A
....................       {output_bit(Dat_Led,(data_seg7_led1 >> 1)&0x0001);delay_ms(2);} 
008FC:  MOV     802,W5
008FE:  CLR.B   B
00900:  CLR.B   B
00902:  LSR     W5,#1,W5
00904:  AND     W5,#1,W0
00906:  CP0     W0
00908:  BRA     NZ,90E
0090A:  BCLR.B  2CA.1
0090C:  BRA     910
0090E:  BSET.B  2CA.1
00910:  BCLR.B  2C6.1
00912:  REPEAT  #E1E
00914:  NOP     
00916:  REPEAT  #3FFF
00918:  NOP     
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 1)) 
0091A:  BSET.B  2C1.2
0091C:  BTSC.B  2C3.2
0091E:  BRA     950
00920:  BSET.B  2C1.1
00922:  BTSS.B  2C3.1
00924:  BRA     950
00926:  BSET.B  2C1.6
00928:  BTSC.B  2C3.6
0092A:  BRA     950
0092C:  BSET.B  2C1.7
0092E:  BTSS.B  2C3.7
00930:  BRA     950
....................       {output_bit(Dat_Led,(data_seg7_led1 >> 2)&0x0001);delay_ms(2);} 
00932:  MOV     802,W5
00934:  CLR.B   B
00936:  CLR.B   B
00938:  LSR     W5,#2,W5
0093A:  AND     W5,#1,W0
0093C:  CP0     W0
0093E:  BRA     NZ,944
00940:  BCLR.B  2CA.1
00942:  BRA     946
00944:  BSET.B  2CA.1
00946:  BCLR.B  2C6.1
00948:  REPEAT  #E1E
0094A:  NOP     
0094C:  REPEAT  #3FFF
0094E:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 1)) 
00950:  BSET.B  2C1.2
00952:  BTSS.B  2C3.2
00954:  BRA     986
00956:  BSET.B  2C1.1
00958:  BTSS.B  2C3.1
0095A:  BRA     986
0095C:  BSET.B  2C1.6
0095E:  BTSC.B  2C3.6
00960:  BRA     986
00962:  BSET.B  2C1.7
00964:  BTSS.B  2C3.7
00966:  BRA     986
....................       {output_bit(Dat_Led,(data_seg7_led1 >> 3)&0x0001);delay_ms(2);} 
00968:  MOV     802,W5
0096A:  CLR.B   B
0096C:  CLR.B   B
0096E:  LSR     W5,#3,W5
00970:  AND     W5,#1,W0
00972:  CP0     W0
00974:  BRA     NZ,97A
00976:  BCLR.B  2CA.1
00978:  BRA     97C
0097A:  BSET.B  2CA.1
0097C:  BCLR.B  2C6.1
0097E:  REPEAT  #E1E
00980:  NOP     
00982:  REPEAT  #3FFF
00984:  NOP     
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 1)) 
00986:  BSET.B  2C1.2
00988:  BTSC.B  2C3.2
0098A:  BRA     9B8
0098C:  BSET.B  2C1.1
0098E:  BTSC.B  2C3.1
00990:  BRA     9B8
00992:  BSET.B  2C1.6
00994:  BTSS.B  2C3.6
00996:  BRA     9B8
00998:  BSET.B  2C1.7
0099A:  BTSS.B  2C3.7
0099C:  BRA     9B8
....................       {output_bit(Dat_Led,data_seg7_led2&0x0001);delay_ms(2);} 
0099E:  MOV.B   803,W0L
009A0:  CLR.B   1
009A2:  AND     W0,#1,W0
009A4:  CP0     W0
009A6:  BRA     NZ,9AC
009A8:  BCLR.B  2CA.1
009AA:  BRA     9AE
009AC:  BSET.B  2CA.1
009AE:  BCLR.B  2C6.1
009B0:  REPEAT  #E1E
009B2:  NOP     
009B4:  REPEAT  #3FFF
009B6:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 1)) 
009B8:  BSET.B  2C1.2
009BA:  BTSS.B  2C3.2
009BC:  BRA     9EE
009BE:  BSET.B  2C1.1
009C0:  BTSC.B  2C3.1
009C2:  BRA     9EE
009C4:  BSET.B  2C1.6
009C6:  BTSS.B  2C3.6
009C8:  BRA     9EE
009CA:  BSET.B  2C1.7
009CC:  BTSS.B  2C3.7
009CE:  BRA     9EE
....................       {output_bit(Dat_Led,(data_seg7_led2 >> 1)&0x0001);delay_ms(2);} 
009D0:  MOV     802,W5
009D2:  LSR     W5,#8,W5
009D4:  CLR.B   B
009D6:  LSR     W5,#1,W5
009D8:  AND     W5,#1,W0
009DA:  CP0     W0
009DC:  BRA     NZ,9E2
009DE:  BCLR.B  2CA.1
009E0:  BRA     9E4
009E2:  BSET.B  2CA.1
009E4:  BCLR.B  2C6.1
009E6:  REPEAT  #E1E
009E8:  NOP     
009EA:  REPEAT  #3FFF
009EC:  NOP     
....................       if((input(Add_Led1) == 0)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 1)) 
009EE:  BSET.B  2C1.2
009F0:  BTSC.B  2C3.2
009F2:  BRA     A24
009F4:  BSET.B  2C1.1
009F6:  BTSS.B  2C3.1
009F8:  BRA     A24
009FA:  BSET.B  2C1.6
009FC:  BTSS.B  2C3.6
009FE:  BRA     A24
00A00:  BSET.B  2C1.7
00A02:  BTSS.B  2C3.7
00A04:  BRA     A24
....................       {output_bit(Dat_Led,(data_seg7_led2 >> 2)&0x0001);delay_ms(2);} 
00A06:  MOV     802,W5
00A08:  LSR     W5,#8,W5
00A0A:  CLR.B   B
00A0C:  LSR     W5,#2,W5
00A0E:  AND     W5,#1,W0
00A10:  CP0     W0
00A12:  BRA     NZ,A18
00A14:  BCLR.B  2CA.1
00A16:  BRA     A1A
00A18:  BSET.B  2CA.1
00A1A:  BCLR.B  2C6.1
00A1C:  REPEAT  #E1E
00A1E:  NOP     
00A20:  REPEAT  #3FFF
00A22:  NOP     
....................       if((input(Add_Led1) == 1)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 1)&&(input(Add_Led4) == 1)) 
00A24:  BSET.B  2C1.2
00A26:  BTSS.B  2C3.2
00A28:  BRA     A5A
00A2A:  BSET.B  2C1.1
00A2C:  BTSS.B  2C3.1
00A2E:  BRA     A5A
00A30:  BSET.B  2C1.6
00A32:  BTSS.B  2C3.6
00A34:  BRA     A5A
00A36:  BSET.B  2C1.7
00A38:  BTSS.B  2C3.7
00A3A:  BRA     A5A
....................       {output_bit(Dat_Led,(data_seg7_led2 >> 3)&0x0001);delay_ms(2);}   
00A3C:  MOV     802,W5
00A3E:  LSR     W5,#8,W5
00A40:  CLR.B   B
00A42:  LSR     W5,#3,W5
00A44:  AND     W5,#1,W0
00A46:  CP0     W0
00A48:  BRA     NZ,A4E
00A4A:  BCLR.B  2CA.1
00A4C:  BRA     A50
00A4E:  BSET.B  2CA.1
00A50:  BCLR.B  2C6.1
00A52:  REPEAT  #E1E
00A54:  NOP     
00A56:  REPEAT  #3FFF
00A58:  NOP     
00A5A:  MOV     [--W15],W8
00A5C:  MOV     [--W15],W7
00A5E:  MOV     [--W15],W6
00A60:  MOV     [--W15],W5
00A62:  RETURN  
.................... } 
.................... void Pulse_switch (unsigned char flag) 
00A64:  MOV     W5,[W15++]
00A66:  MOV     #C,W5
00A68:  REPEAT  #3
00A6A:  MOV     [W5++],[W15++]
.................... { 
....................    if(flag == 0) 
00A6C:  CP0.B   87E
00A6E:  BRA     NZ,AA8
....................    { 
....................       output_bit(PULSEA,~input(PX)); 
00A70:  BSET.B  2D2.0
00A72:  BTSS.B  2D4.0
00A74:  BRA     A7A
00A76:  BCLR.B  2E9.1
00A78:  BRA     A7C
00A7A:  BSET.B  2E9.1
00A7C:  BCLR.B  2E5.1
....................       output_bit(PULSEA_,input(PX)); 
00A7E:  BSET.B  2D2.0
00A80:  BTSC.B  2D4.0
00A82:  BRA     A88
00A84:  BCLR.B  2E9.0
00A86:  BRA     A8A
00A88:  BSET.B  2E9.0
00A8A:  BCLR.B  2E5.0
....................       output_bit(PULSEB,~input(PY)); 
00A8C:  BSET.B  2D2.1
00A8E:  BTSS.B  2D4.1
00A90:  BRA     A96
00A92:  BCLR.B  2D1.5
00A94:  BRA     A98
00A96:  BSET.B  2D1.5
00A98:  BCLR.B  2CD.5
....................       output_bit(PULSEB_,input(PY)); 
00A9A:  BSET.B  2D2.1
00A9C:  BTSC.B  2D4.1
00A9E:  BRA     AA4
00AA0:  BCLR.B  2D1.6
00AA2:  BRA     AA6
00AA4:  BSET.B  2D1.6
00AA6:  BCLR.B  2CD.6
....................    } 
....................    if(flag == 1) 
00AA8:  MOV     87E,W4
00AAA:  CP.B    W4L,#1
00AAC:  BRA     NZ,B46
....................    { 
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 1)) 
00AAE:  BSET.B  2C0.3
00AB0:  BTSC.B  2C2.3
00AB2:  BRA     AD4
00AB4:  BSET.B  2C0.4
00AB6:  BTSC.B  2C2.4
00AB8:  BRA     AD4
00ABA:  BSET.B  2C0.5
00ABC:  BTSC.B  2C2.5
00ABE:  BRA     AD4
00AC0:  BSET.B  2C0.6
00AC2:  BTSS.B  2C2.6
00AC4:  BRA     AD4
00AC6:  BSET.B  2C0.7
00AC8:  BTSS.B  2C2.7
00ACA:  BRA     AD4
....................       {output_high(PULSEA);output_low(PULSEA_);} 
00ACC:  BCLR.B  2E5.1
00ACE:  BSET.B  2E9.1
00AD0:  BCLR.B  2E5.0
00AD2:  BCLR.B  2E9.0
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 0)) 
00AD4:  BSET.B  2C0.3
00AD6:  BTSC.B  2C2.3
00AD8:  BRA     AFA
00ADA:  BSET.B  2C0.4
00ADC:  BTSC.B  2C2.4
00ADE:  BRA     AFA
00AE0:  BSET.B  2C0.5
00AE2:  BTSC.B  2C2.5
00AE4:  BRA     AFA
00AE6:  BSET.B  2C0.6
00AE8:  BTSS.B  2C2.6
00AEA:  BRA     AFA
00AEC:  BSET.B  2C0.7
00AEE:  BTSC.B  2C2.7
00AF0:  BRA     AFA
....................       {output_low(PULSEA);output_high(PULSEA_);} 
00AF2:  BCLR.B  2E5.1
00AF4:  BCLR.B  2E9.1
00AF6:  BCLR.B  2E5.0
00AF8:  BSET.B  2E9.0
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 1)) 
00AFA:  BSET.B  2C0.3
00AFC:  BTSS.B  2C2.3
00AFE:  BRA     B20
00B00:  BSET.B  2C0.4
00B02:  BTSC.B  2C2.4
00B04:  BRA     B20
00B06:  BSET.B  2C0.5
00B08:  BTSC.B  2C2.5
00B0A:  BRA     B20
00B0C:  BSET.B  2C0.6
00B0E:  BTSS.B  2C2.6
00B10:  BRA     B20
00B12:  BSET.B  2C0.7
00B14:  BTSS.B  2C2.7
00B16:  BRA     B20
....................       {output_high(PULSEB);output_low(PULSEB_);} 
00B18:  BCLR.B  2CD.5
00B1A:  BSET.B  2D1.5
00B1C:  BCLR.B  2CD.6
00B1E:  BCLR.B  2D1.6
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 0)) 
00B20:  BSET.B  2C0.3
00B22:  BTSS.B  2C2.3
00B24:  BRA     B46
00B26:  BSET.B  2C0.4
00B28:  BTSC.B  2C2.4
00B2A:  BRA     B46
00B2C:  BSET.B  2C0.5
00B2E:  BTSC.B  2C2.5
00B30:  BRA     B46
00B32:  BSET.B  2C0.6
00B34:  BTSS.B  2C2.6
00B36:  BRA     B46
00B38:  BSET.B  2C0.7
00B3A:  BTSC.B  2C2.7
00B3C:  BRA     B46
....................       {output_low(PULSEB);output_high(PULSEB_);} 
00B3E:  BCLR.B  2CD.5
00B40:  BCLR.B  2D1.5
00B42:  BCLR.B  2CD.6
00B44:  BSET.B  2D1.6
....................    } 
00B46:  MOV     #12,W5
00B48:  REPEAT  #3
00B4A:  MOV     [--W15],[W5--]
00B4C:  MOV     [--W15],W5
00B4E:  RETURN  
.................... } 
....................  
.................... void Control_supply (unsigned char flag) 
00B50:  MOV     W5,[W15++]
00B52:  MOV     #C,W5
00B54:  REPEAT  #3
00B56:  MOV     [W5++],[W15++]
.................... { 
....................    if(flag == 0) 
00B58:  CP0.B   87E
00B5A:  BRA     NZ,BAA
....................    { 
....................       re_local = 0; 
00B5C:  CLR.B   80D
....................       if(power_on_5V == 1)output_high(ON_5V); 
00B5E:  MOV     808,W4
00B60:  CP.B    W4L,#1
00B62:  BRA     NZ,B6C
00B64:  BCLR.B  2D8.6
00B66:  BSET.B  2DC.6
00B68:  GOTO    B70
....................       else output_low(ON_5V); 
00B6C:  BCLR.B  2D8.6
00B6E:  BCLR.B  2DC.6
....................       if(power_on_12V == 1)output_high(ON_12V); 
00B70:  MOV     808,W4
00B72:  LSR     W4,#8,W4
00B74:  CP.B    W4L,#1
00B76:  BRA     NZ,B80
00B78:  BCLR.B  2D8.7
00B7A:  BSET.B  2DC.7
00B7C:  GOTO    B84
....................       else output_low(ON_12V); 
00B80:  BCLR.B  2D8.7
00B82:  BCLR.B  2DC.7
....................       if(power_on_5V_ == 1)output_high(ON_5V_); 
00B84:  MOV     80A,W4
00B86:  CP.B    W4L,#1
00B88:  BRA     NZ,B92
00B8A:  BCLR.B  2D9.0
00B8C:  BSET.B  2DD.0
00B8E:  GOTO    B96
....................       else output_low(ON_5V_); 
00B92:  BCLR.B  2D9.0
00B94:  BCLR.B  2DD.0
....................       if(power_on_12V_ == 1)output_high(ON_12V_); 
00B96:  MOV     80A,W4
00B98:  LSR     W4,#8,W4
00B9A:  CP.B    W4L,#1
00B9C:  BRA     NZ,BA6
00B9E:  BCLR.B  2D9.1
00BA0:  BSET.B  2DD.1
00BA2:  GOTO    BAA
....................       else output_low(ON_12V_); 
00BA6:  BCLR.B  2D9.1
00BA8:  BCLR.B  2DD.1
....................    } 
....................    if(flag == 1) 
00BAA:  MOV     87E,W4
00BAC:  CP.B    W4L,#1
00BAE:  BRA     NZ,CD8
....................    { 
....................       if(re_local == 0) 
00BB0:  CP0.B   80D
00BB2:  BRA     NZ,BC8
....................       { 
....................          output_low(ON_5V); 
00BB4:  BCLR.B  2D8.6
00BB6:  BCLR.B  2DC.6
....................          output_low(ON_12V); 
00BB8:  BCLR.B  2D8.7
00BBA:  BCLR.B  2DC.7
....................          output_low(ON_5V_); 
00BBC:  BCLR.B  2D9.0
00BBE:  BCLR.B  2DD.0
....................          output_low(ON_12V_); 
00BC0:  BCLR.B  2D9.1
00BC2:  BCLR.B  2DD.1
....................          re_local = 1; 
00BC4:  MOV.B   #1,W0L
00BC6:  MOV.B   W0L,80D
....................       } 
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 1)) 
00BC8:  BSET.B  2C0.3
00BCA:  BTSC.B  2C2.3
00BCC:  BRA     BEA
00BCE:  BSET.B  2C0.4
00BD0:  BTSS.B  2C2.4
00BD2:  BRA     BEA
00BD4:  BSET.B  2C0.5
00BD6:  BTSC.B  2C2.5
00BD8:  BRA     BEA
00BDA:  BSET.B  2C0.6
00BDC:  BTSS.B  2C2.6
00BDE:  BRA     BEA
00BE0:  BSET.B  2C0.7
00BE2:  BTSS.B  2C2.7
00BE4:  BRA     BEA
....................       output_high(ON_5V); 
00BE6:  BCLR.B  2D8.6
00BE8:  BSET.B  2DC.6
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 0)) 
00BEA:  BSET.B  2C0.3
00BEC:  BTSC.B  2C2.3
00BEE:  BRA     C0C
00BF0:  BSET.B  2C0.4
00BF2:  BTSS.B  2C2.4
00BF4:  BRA     C0C
00BF6:  BSET.B  2C0.5
00BF8:  BTSC.B  2C2.5
00BFA:  BRA     C0C
00BFC:  BSET.B  2C0.6
00BFE:  BTSS.B  2C2.6
00C00:  BRA     C0C
00C02:  BSET.B  2C0.7
00C04:  BTSC.B  2C2.7
00C06:  BRA     C0C
....................       output_low(ON_5V); 
00C08:  BCLR.B  2D8.6
00C0A:  BCLR.B  2DC.6
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 1)) 
00C0C:  BSET.B  2C0.3
00C0E:  BTSS.B  2C2.3
00C10:  BRA     C2E
00C12:  BSET.B  2C0.4
00C14:  BTSS.B  2C2.4
00C16:  BRA     C2E
00C18:  BSET.B  2C0.5
00C1A:  BTSC.B  2C2.5
00C1C:  BRA     C2E
00C1E:  BSET.B  2C0.6
00C20:  BTSS.B  2C2.6
00C22:  BRA     C2E
00C24:  BSET.B  2C0.7
00C26:  BTSS.B  2C2.7
00C28:  BRA     C2E
....................       output_high(ON_12V); 
00C2A:  BCLR.B  2D8.7
00C2C:  BSET.B  2DC.7
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 1)&&(input(Add_SW3) == 0)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 0)) 
00C2E:  BSET.B  2C0.3
00C30:  BTSS.B  2C2.3
00C32:  BRA     C50
00C34:  BSET.B  2C0.4
00C36:  BTSS.B  2C2.4
00C38:  BRA     C50
00C3A:  BSET.B  2C0.5
00C3C:  BTSC.B  2C2.5
00C3E:  BRA     C50
00C40:  BSET.B  2C0.6
00C42:  BTSS.B  2C2.6
00C44:  BRA     C50
00C46:  BSET.B  2C0.7
00C48:  BTSC.B  2C2.7
00C4A:  BRA     C50
....................       output_low(ON_12V); 
00C4C:  BCLR.B  2D8.7
00C4E:  BCLR.B  2DC.7
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 1)) 
00C50:  BSET.B  2C0.3
00C52:  BTSC.B  2C2.3
00C54:  BRA     C72
00C56:  BSET.B  2C0.4
00C58:  BTSC.B  2C2.4
00C5A:  BRA     C72
00C5C:  BSET.B  2C0.5
00C5E:  BTSS.B  2C2.5
00C60:  BRA     C72
00C62:  BSET.B  2C0.6
00C64:  BTSS.B  2C2.6
00C66:  BRA     C72
00C68:  BSET.B  2C0.7
00C6A:  BTSS.B  2C2.7
00C6C:  BRA     C72
....................       output_high(ON_5V_); 
00C6E:  BCLR.B  2D9.0
00C70:  BSET.B  2DD.0
....................       if((input(Add_SW1) == 0)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 0)) 
00C72:  BSET.B  2C0.3
00C74:  BTSC.B  2C2.3
00C76:  BRA     C94
00C78:  BSET.B  2C0.4
00C7A:  BTSC.B  2C2.4
00C7C:  BRA     C94
00C7E:  BSET.B  2C0.5
00C80:  BTSS.B  2C2.5
00C82:  BRA     C94
00C84:  BSET.B  2C0.6
00C86:  BTSS.B  2C2.6
00C88:  BRA     C94
00C8A:  BSET.B  2C0.7
00C8C:  BTSC.B  2C2.7
00C8E:  BRA     C94
....................       output_low(ON_5V_); 
00C90:  BCLR.B  2D9.0
00C92:  BCLR.B  2DD.0
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 1)) 
00C94:  BSET.B  2C0.3
00C96:  BTSS.B  2C2.3
00C98:  BRA     CB6
00C9A:  BSET.B  2C0.4
00C9C:  BTSC.B  2C2.4
00C9E:  BRA     CB6
00CA0:  BSET.B  2C0.5
00CA2:  BTSS.B  2C2.5
00CA4:  BRA     CB6
00CA6:  BSET.B  2C0.6
00CA8:  BTSS.B  2C2.6
00CAA:  BRA     CB6
00CAC:  BSET.B  2C0.7
00CAE:  BTSS.B  2C2.7
00CB0:  BRA     CB6
....................       output_high(ON_12V_); 
00CB2:  BCLR.B  2D9.1
00CB4:  BSET.B  2DD.1
....................       if((input(Add_SW1) == 1)&&(input(Add_SW2) == 0)&&(input(Add_SW3) == 1)&&(input(Add_SW4) == 1)&&(input(Dat_SW) == 0)) 
00CB6:  BSET.B  2C0.3
00CB8:  BTSS.B  2C2.3
00CBA:  BRA     CD8
00CBC:  BSET.B  2C0.4
00CBE:  BTSC.B  2C2.4
00CC0:  BRA     CD8
00CC2:  BSET.B  2C0.5
00CC4:  BTSS.B  2C2.5
00CC6:  BRA     CD8
00CC8:  BSET.B  2C0.6
00CCA:  BTSS.B  2C2.6
00CCC:  BRA     CD8
00CCE:  BSET.B  2C0.7
00CD0:  BTSC.B  2C2.7
00CD2:  BRA     CD8
....................       output_low(ON_12V_); 
00CD4:  BCLR.B  2D9.1
00CD6:  BCLR.B  2DD.1
....................    } 
00CD8:  MOV     #12,W5
00CDA:  REPEAT  #3
00CDC:  MOV     [--W15],[W5--]
00CDE:  MOV     [--W15],W5
00CE0:  RETURN  
.................... } 
.................... unsigned char Check_connect_computer (void) 
*
00470:  MOV     W5,[W15++]
00472:  MOV     W6,[W15++]
00474:  MOV     W7,[W15++]
00476:  MOV     W8,[W15++]
.................... {    
....................    if((input(Add_Led1) == 0)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 0)){dat1 = 200;} 
00478:  BSET.B  2C1.2
0047A:  BTSC.B  2C3.2
0047C:  BRA     494
0047E:  BSET.B  2C1.1
00480:  BTSC.B  2C3.1
00482:  BRA     494
00484:  BSET.B  2C1.6
00486:  BTSC.B  2C3.6
00488:  BRA     494
0048A:  BSET.B  2C1.7
0048C:  BTSC.B  2C3.7
0048E:  BRA     494
00490:  MOV.B   #C8,W0L
00492:  MOV.B   W0L,804
....................    if((input(Add_Led1) == 1)&&(input(Add_Led2) == 0)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 0)){dat2 = 200;} 
00494:  BSET.B  2C1.2
00496:  BTSS.B  2C3.2
00498:  BRA     4B0
0049A:  BSET.B  2C1.1
0049C:  BTSC.B  2C3.1
0049E:  BRA     4B0
004A0:  BSET.B  2C1.6
004A2:  BTSC.B  2C3.6
004A4:  BRA     4B0
004A6:  BSET.B  2C1.7
004A8:  BTSC.B  2C3.7
004AA:  BRA     4B0
004AC:  MOV.B   #C8,W0L
004AE:  MOV.B   W0L,805
....................    if((input(Add_Led1) == 0)&&(input(Add_Led2) == 1)&&(input(Add_Led3) == 0)&&(input(Add_Led4) == 0)){dat3 = 200;} 
004B0:  BSET.B  2C1.2
004B2:  BTSC.B  2C3.2
004B4:  BRA     4CC
004B6:  BSET.B  2C1.1
004B8:  BTSS.B  2C3.1
004BA:  BRA     4CC
004BC:  BSET.B  2C1.6
004BE:  BTSC.B  2C3.6
004C0:  BRA     4CC
004C2:  BSET.B  2C1.7
004C4:  BTSC.B  2C3.7
004C6:  BRA     4CC
004C8:  MOV.B   #C8,W0L
004CA:  MOV.B   W0L,806
....................    if((dat1 >= 10)&&(dat2 >= 10)&&(dat3 >= 10))data = 1; 
004CC:  MOV     804,W4
004CE:  CP.B    W4L,#A
004D0:  BRA     NC,4E4
004D2:  MOV     804,W4
004D4:  LSR     W4,#8,W4
004D6:  CP.B    W4L,#A
004D8:  BRA     NC,4E4
004DA:  MOV     806,W4
004DC:  CP.B    W4L,#A
004DE:  BRA     NC,4E4
004E0:  MOV.B   #1,W0L
004E2:  MOV.B   W0L,807
....................    if(dat1 > 0)dat1 --; 
004E4:  CP0.B   804
004E6:  BRA     Z,4EA
004E8:  DEC.B   0804
....................    if(dat2 > 0)dat2 --; 
004EA:  CP0.B   805
004EC:  BRA     Z,4F0
004EE:  DEC.B   0805
....................    if(dat3 > 0)dat3 --; 
004F0:  CP0.B   806
004F2:  BRA     Z,4F6
004F4:  DEC.B   0806
....................    if((dat1 == 0)||(dat2 == 0)||(dat3 == 0))data = 0; 
004F6:  CP0.B   804
004F8:  BRA     Z,502
004FA:  CP0.B   805
004FC:  BRA     Z,502
004FE:  CP0.B   806
00500:  BRA     NZ,504
00502:  CLR.B   807
....................    return(data); 
00504:  MOV.B   807,W0L
00506:  MOV     [--W15],W8
00508:  MOV     [--W15],W7
0050A:  MOV     [--W15],W6
0050C:  MOV     [--W15],W5
0050E:  RETURN  
.................... } 
.................... void control_button (void) 
*
013DE:  MOV     W5,[W15++]
.................... { 
....................    if(input(MD) == 0){setup_mode ++;delay_ms(200);if(setup_mode > 2)setup_mode = 0;} 
013E0:  BSET.B  2E5.6
013E2:  BTSC.B  2E7.6
013E4:  BRA     13F6
013E6:  INC.B   080E
013E8:  MOV     #C8,W0
013EA:  CALL    338
013EE:  MOV     80E,W4
013F0:  CP.B    W4L,#2
013F2:  BRA     LEU,13F6
013F4:  CLR.B   80E
....................    if(setup_mode != 0) 
013F6:  CP0.B   80E
013F8:  BRA     Z,14AE
....................    { 
....................       if(setup_mode == 1) 
013FA:  MOV     80E,W4
013FC:  CP.B    W4L,#1
013FE:  BRA     NZ,14A4
....................       {  
....................          if(input(UP) ==0){power_on = 1;power_on_5V = 1;power_on_12V = 1;power_on_5V_ = 1;power_on_12V_ = 1;} 
01400:  BSET.B  2E5.7
01402:  BTSC.B  2E7.7
01404:  BRA     141A
01406:  MOV.B   #1,W0L
01408:  MOV.B   W0L,80C
0140A:  MOV.B   #1,W0L
0140C:  MOV.B   W0L,808
0140E:  MOV.B   #1,W0L
01410:  MOV.B   W0L,809
01412:  MOV.B   #1,W0L
01414:  MOV.B   W0L,80A
01416:  MOV.B   #1,W0L
01418:  MOV.B   W0L,80B
....................          if(input(DW) ==0){power_on = 0;power_on_5V = 0;power_on_12V = 0;power_on_5V_ = 0;power_on_12V_ = 0;} 
0141A:  BSET.B  2E5.4
0141C:  BTSC.B  2E7.4
0141E:  BRA     142A
01420:  CLR.B   80C
01422:  CLR.B   808
01424:  CLR.B   809
01426:  CLR.B   80A
01428:  CLR.B   80B
....................          lcd_gotoxy(0,0); 
0142A:  CLR.B   87E
0142C:  CLR.B   87F
0142E:  CALL    CE2
....................          printf(lcd_putchar,"SETUP PS ON/OFF:");  
01432:  MOV     #0,W1
01434:  MOV     W1,W0
01436:  CLR.B   1
01438:  CALL    25A
0143C:  INC     W1,W1
0143E:  MOV     W1,[W15++]
01440:  MOV     W0,886
01442:  CALL    D2C
01446:  MOV     [--W15],W1
01448:  MOV     #F,W0
0144A:  CPSGT   W1,W0
0144C:  BRA     1434
....................          if(power_on == 0){lcd_gotoxy(0,1);printf(lcd_putchar,"POWER: OFF        ");} 
0144E:  CP0.B   80C
01450:  BRA     NZ,1478
01452:  CLR.B   87E
01454:  MOV.B   #1,W0L
01456:  MOV.B   W0L,87F
01458:  CALL    CE2
0145C:  MOV     #0,W1
0145E:  MOV     W1,W0
01460:  CLR.B   1
01462:  CALL    278
01466:  INC     W1,W1
01468:  MOV     W1,[W15++]
0146A:  MOV     W0,886
0146C:  CALL    D2C
01470:  MOV     [--W15],W1
01472:  MOV     #11,W0
01474:  CPSGT   W1,W0
01476:  BRA     145E
....................          if(power_on == 1){lcd_gotoxy(0,1);printf(lcd_putchar,"POWER: ON         ");} 
01478:  MOV     80C,W4
0147A:  CP.B    W4L,#1
0147C:  BRA     NZ,14A4
0147E:  CLR.B   87E
01480:  MOV.B   #1,W0L
01482:  MOV.B   W0L,87F
01484:  CALL    CE2
01488:  MOV     #0,W1
0148A:  MOV     W1,W0
0148C:  CLR.B   1
0148E:  CALL    298
01492:  INC     W1,W1
01494:  MOV     W1,[W15++]
01496:  MOV     W0,886
01498:  CALL    D2C
0149C:  MOV     [--W15],W1
0149E:  MOV     #11,W0
014A0:  CPSGT   W1,W0
014A2:  BRA     148A
....................       } 
....................       if(setup_mode == 2) 
014A4:  MOV     80E,W4
014A6:  CP.B    W4L,#2
014A8:  BRA     NZ,14AE
....................       {  
....................          Read_current(); 
014AA:  CALL    10D6
....................       } 
....................    } 
....................    if(input(EX) == 0)setup_mode = 0; 
014AE:  BSET.B  2E5.5
014B0:  BTSC.B  2E7.5
014B2:  BRA     14B6
014B4:  CLR.B   80E
014B6:  MOV     [--W15],W5
014B8:  RETURN  
.................... } 
.................... Void Read_current (void) 
*
010D6:  MOV     W5,[W15++]
010D8:  MOV     W6,[W15++]
010DA:  MOV     W7,[W15++]
.................... { 
....................    val_adc1 = multi_read_adc(18,1000); 
010DC:  MOV.B   #12,W0L
010DE:  MOV.B   W0L,87E
010E0:  MOV     #3E8,W4
010E2:  MOV     W4,880
010E4:  CALL    D92
010E8:  MOV     W0,810
....................    val_adc2 = multi_read_adc(19,1000); 
010EA:  MOV.B   #13,W0L
010EC:  MOV.B   W0L,87E
010EE:  MOV     #3E8,W4
010F0:  MOV     W4,880
010F2:  CALL    D92
010F6:  MOV     W0,812
....................    /*Device 1 
....................    if(val_adc1 >= 1897){curren_displayA = (val_adc1 - 1897)/0.694;flag_currA = 0;} 
....................    if(val_adc1 < 1897){curren_displayA = (1897 - val_adc1)/0.852;flag_currA = 1;} 
....................    if(val_adc2 >= 1890){curren_displayB = (val_adc2 - 1890)/0.694;flag_currB = 0;} 
....................    if(val_adc2 < 1890){curren_displayB = (1890 - val_adc2)/0.852;flag_currB = 1;} 
....................    */ 
....................    /*Device 2 
....................    if(val_adc1 >= 1887){curren_displayA = (val_adc1 - 1887)/0.694;flag_currA = 0;} 
....................    if(val_adc1 < 1887){curren_displayA = (1887 - val_adc1)/0.8287;flag_currA = 1;} 
....................    if(val_adc2 >= 1879){curren_displayB = (val_adc2 - 1879)/0.694;flag_currB = 0;} 
....................    if(val_adc2 < 1879){curren_displayB = (1879 - val_adc2)/0.8287;flag_currB = 1;} 
....................    */ 
....................    /*Device 3 
....................    if(val_adc1 >= 1887){curren_displayA = (val_adc1 - 1887)/0.694;flag_currA = 0;} 
....................    if(val_adc1 < 1887){curren_displayA = (1887 - val_adc1)/0.8585;flag_currA = 1;} 
....................    if(val_adc2 >= 1880){curren_displayB = (val_adc2 - 1880)/0.694;flag_currB = 0;} 
....................    if(val_adc2 < 1880){curren_displayB = (1880 - val_adc2)/0.8436;flag_currB = 1;} 
....................    */ 
....................    /*Device 4 
....................    if(val_adc1 >= 1894){curren_displayA = (val_adc1 - 1894)/0.6448;flag_currA = 0;} 
....................    if(val_adc1 < 1894){curren_displayA = (1894 - val_adc1)/0.9045;flag_currA = 1;} 
....................    if(val_adc2 >= 1881){curren_displayB = (val_adc2 - 1881)/0.6325;flag_currB = 0;} 
....................    if(val_adc2 < 1881){curren_displayB = (1881 - val_adc2)/0.8786;flag_currB = 1;} 
....................    */ 
....................    if(val_adc1 >= 1888){curren_displayA = (val_adc1 - 1888)/0.6736;flag_currA = 0;} 
010F8:  MOV     810,W4
010FA:  MOV     #760,W3
010FC:  CP      W3,W4
010FE:  BRA     GTU,112A
01100:  MOV     810,W4
01102:  MOV     #760,W3
01104:  SUB     W4,W3,W5
01106:  MOV     W5,W0
01108:  MOV     #0,W1
0110A:  MOV     #0,W2
0110C:  MOV     #0,W3
0110E:  CALL    E1A
01112:  MOV     W5,[W15++]
01114:  MOV     #BD3C,W4
01116:  MOV     #9652,W5
01118:  MOV     #8E21,W6
0111A:  MOV     #3FE5,W7
0111C:  CALL    E7E
01120:  MOV     [--W15],W5
01122:  CALL    F86
01126:  MOV     W0,814
01128:  CLR.B   80F
....................    if(val_adc1 < 1888){curren_displayA = (1888 - val_adc1)/0.8538;flag_currA = 1;} 
0112A:  MOV     810,W4
0112C:  MOV     #760,W3
0112E:  CP      W3,W4
01130:  BRA     LEU,115E
01132:  MOV     #760,W4
01134:  MOV     810,W3
01136:  SUB     W4,W3,W5
01138:  MOV     W5,W0
0113A:  MOV     #0,W1
0113C:  MOV     #0,W2
0113E:  MOV     #0,W3
01140:  CALL    E1A
01144:  MOV     W5,[W15++]
01146:  MOV     #64C4,W4
01148:  MOV     #60AA,W5
0114A:  MOV     #5254,W6
0114C:  MOV     #3FEB,W7
0114E:  CALL    E7E
01152:  MOV     [--W15],W5
01154:  CALL    F86
01158:  MOV     W0,814
0115A:  MOV.B   #1,W0L
0115C:  MOV.B   W0L,80F
....................    if(val_adc2 >= 1877){curren_displayB = (val_adc2 - 1877)/0.6785;flag_currB = 0;} 
0115E:  MOV     812,W4
01160:  MOV     #755,W3
01162:  CP      W3,W4
01164:  BRA     GTU,1190
01166:  MOV     812,W4
01168:  MOV     #755,W3
0116A:  SUB     W4,W3,W5
0116C:  MOV     W5,W0
0116E:  MOV     #0,W1
01170:  MOV     #0,W2
01172:  MOV     #0,W3
01174:  CALL    E1A
01178:  MOV     W5,[W15++]
0117A:  MOV     #C082,W4
0117C:  MOV     #A1CA,W5
0117E:  MOV     #B645,W6
01180:  MOV     #3FE5,W7
01182:  CALL    E7E
01186:  MOV     [--W15],W5
01188:  CALL    F86
0118C:  MOV     W0,816
0118E:  CLR.B   818
....................    if(val_adc2 < 1877){curren_displayB = (1877 - val_adc2)/0.8548;flag_currB = 1;} 
01190:  MOV     812,W4
01192:  MOV     #755,W3
01194:  CP      W3,W4
01196:  BRA     LEU,11C4
01198:  MOV     #755,W4
0119A:  MOV     812,W3
0119C:  SUB     W4,W3,W5
0119E:  MOV     W5,W0
011A0:  MOV     #0,W1
011A2:  MOV     #0,W2
011A4:  MOV     #0,W3
011A6:  CALL    E1A
011AA:  MOV     W5,[W15++]
011AC:  MOV     #DD99,W4
011AE:  MOV     #8793,W5
011B0:  MOV     #5A85,W6
011B2:  MOV     #3FEB,W7
011B4:  CALL    E7E
011B8:  MOV     [--W15],W5
011BA:  CALL    F86
011BE:  MOV     W0,816
011C0:  MOV.B   #1,W0L
011C2:  MOV.B   W0L,818
....................     
....................    if(flag_currA == 0){lcd_gotoxy(0,0);printf(lcd_putchar,"AMETER I1: %d.%d%dA",curren_displayA/100,(curren_displayA%100)/10,(curren_displayA%100)%10);}  
011C4:  CP0.B   80F
011C6:  BRA     NZ,1246
011C8:  CLR.B   87E
011CA:  CLR.B   87F
011CC:  CALL    CE2
011D0:  MOV     814,W4
011D2:  MOV     #64,W3
011D4:  REPEAT  #11
011D6:  DIV.U   W4,W3
011D8:  MOV     W0,W5
011DA:  MOV     814,W4
011DC:  MOV     #64,W3
011DE:  REPEAT  #11
011E0:  DIV.U   W4,W3
011E2:  MOV     W1,W6
011E4:  MOV     W6,W4
011E6:  MOV     #A,W3
011E8:  REPEAT  #11
011EA:  DIV.U   W4,W3
011EC:  MOV     W0,W6
011EE:  MOV     814,W4
011F0:  MOV     #64,W3
011F2:  REPEAT  #11
011F4:  DIV.U   W4,W3
011F6:  MOV     W1,W7
011F8:  MOV     W7,W4
011FA:  MOV     #A,W3
011FC:  REPEAT  #11
011FE:  DIV.U   W4,W3
01200:  MOV     W1,W7
01202:  MOV     #0,W1
01204:  MOV     W1,W0
01206:  CLR.B   1
01208:  CALL    2B8
0120C:  INC     W1,W1
0120E:  MOV     W1,[W15++]
01210:  MOV     W0,886
01212:  CALL    D2C
01216:  MOV     [--W15],W1
01218:  MOV     #A,W0
0121A:  CPSGT   W1,W0
0121C:  BRA     1204
0121E:  MOV     W5,W0
01220:  MOV     #0,W4
01222:  CALL    FDC
01226:  MOV     #2E,W4
01228:  MOV     W4,886
0122A:  CALL    D2C
0122E:  MOV     W6,W0
01230:  MOV     #0,W4
01232:  CALL    FDC
01236:  MOV     W7,W0
01238:  MOV     #0,W4
0123A:  CALL    FDC
0123E:  MOV     #41,W4
01240:  MOV     W4,886
01242:  CALL    D2C
....................    if(flag_currA == 1){lcd_gotoxy(0,0);printf(lcd_putchar,"AMETER I1:-%d.%d%dA",curren_displayA/100,(curren_displayA%100)/10,(curren_displayA%100)%10);}  
01246:  MOV     80E,W4
01248:  LSR     W4,#8,W4
0124A:  CP.B    W4L,#1
0124C:  BRA     NZ,12CC
0124E:  CLR.B   87E
01250:  CLR.B   87F
01252:  CALL    CE2
01256:  MOV     814,W4
01258:  MOV     #64,W3
0125A:  REPEAT  #11
0125C:  DIV.U   W4,W3
0125E:  MOV     W0,W5
01260:  MOV     814,W4
01262:  MOV     #64,W3
01264:  REPEAT  #11
01266:  DIV.U   W4,W3
01268:  MOV     W1,W6
0126A:  MOV     W6,W4
0126C:  MOV     #A,W3
0126E:  REPEAT  #11
01270:  DIV.U   W4,W3
01272:  MOV     W0,W6
01274:  MOV     814,W4
01276:  MOV     #64,W3
01278:  REPEAT  #11
0127A:  DIV.U   W4,W3
0127C:  MOV     W1,W7
0127E:  MOV     W7,W4
01280:  MOV     #A,W3
01282:  REPEAT  #11
01284:  DIV.U   W4,W3
01286:  MOV     W1,W7
01288:  MOV     #0,W1
0128A:  MOV     W1,W0
0128C:  CLR.B   1
0128E:  CALL    2D8
01292:  INC     W1,W1
01294:  MOV     W1,[W15++]
01296:  MOV     W0,886
01298:  CALL    D2C
0129C:  MOV     [--W15],W1
0129E:  MOV     #A,W0
012A0:  CPSGT   W1,W0
012A2:  BRA     128A
012A4:  MOV     W5,W0
012A6:  MOV     #0,W4
012A8:  CALL    FDC
012AC:  MOV     #2E,W4
012AE:  MOV     W4,886
012B0:  CALL    D2C
012B4:  MOV     W6,W0
012B6:  MOV     #0,W4
012B8:  CALL    FDC
012BC:  MOV     W7,W0
012BE:  MOV     #0,W4
012C0:  CALL    FDC
012C4:  MOV     #41,W4
012C6:  MOV     W4,886
012C8:  CALL    D2C
....................    if(flag_currB == 0){lcd_gotoxy(0,1);printf(lcd_putchar,"AMETER I2: %d.%d%dA",curren_displayB/100,(curren_displayB%100)/10,(curren_displayB%100)%10);} 
012CC:  CP0.B   818
012CE:  BRA     NZ,1350
012D0:  CLR.B   87E
012D2:  MOV.B   #1,W0L
012D4:  MOV.B   W0L,87F
012D6:  CALL    CE2
012DA:  MOV     816,W4
012DC:  MOV     #64,W3
012DE:  REPEAT  #11
012E0:  DIV.U   W4,W3
012E2:  MOV     W0,W5
012E4:  MOV     816,W4
012E6:  MOV     #64,W3
012E8:  REPEAT  #11
012EA:  DIV.U   W4,W3
012EC:  MOV     W1,W6
012EE:  MOV     W6,W4
012F0:  MOV     #A,W3
012F2:  REPEAT  #11
012F4:  DIV.U   W4,W3
012F6:  MOV     W0,W6
012F8:  MOV     816,W4
012FA:  MOV     #64,W3
012FC:  REPEAT  #11
012FE:  DIV.U   W4,W3
01300:  MOV     W1,W7
01302:  MOV     W7,W4
01304:  MOV     #A,W3
01306:  REPEAT  #11
01308:  DIV.U   W4,W3
0130A:  MOV     W1,W7
0130C:  MOV     #0,W1
0130E:  MOV     W1,W0
01310:  CLR.B   1
01312:  CALL    2F8
01316:  INC     W1,W1
01318:  MOV     W1,[W15++]
0131A:  MOV     W0,886
0131C:  CALL    D2C
01320:  MOV     [--W15],W1
01322:  MOV     #A,W0
01324:  CPSGT   W1,W0
01326:  BRA     130E
01328:  MOV     W5,W0
0132A:  MOV     #0,W4
0132C:  CALL    FDC
01330:  MOV     #2E,W4
01332:  MOV     W4,886
01334:  CALL    D2C
01338:  MOV     W6,W0
0133A:  MOV     #0,W4
0133C:  CALL    FDC
01340:  MOV     W7,W0
01342:  MOV     #0,W4
01344:  CALL    FDC
01348:  MOV     #41,W4
0134A:  MOV     W4,886
0134C:  CALL    D2C
....................    if(flag_currB == 1){lcd_gotoxy(0,1);printf(lcd_putchar,"AMETER I2:-%d.%d%dA",curren_displayB/100,(curren_displayB%100)/10,(curren_displayB%100)%10);} 
01350:  MOV     818,W4
01352:  CP.B    W4L,#1
01354:  BRA     NZ,13D6
01356:  CLR.B   87E
01358:  MOV.B   #1,W0L
0135A:  MOV.B   W0L,87F
0135C:  CALL    CE2
01360:  MOV     816,W4
01362:  MOV     #64,W3
01364:  REPEAT  #11
01366:  DIV.U   W4,W3
01368:  MOV     W0,W5
0136A:  MOV     816,W4
0136C:  MOV     #64,W3
0136E:  REPEAT  #11
01370:  DIV.U   W4,W3
01372:  MOV     W1,W6
01374:  MOV     W6,W4
01376:  MOV     #A,W3
01378:  REPEAT  #11
0137A:  DIV.U   W4,W3
0137C:  MOV     W0,W6
0137E:  MOV     816,W4
01380:  MOV     #64,W3
01382:  REPEAT  #11
01384:  DIV.U   W4,W3
01386:  MOV     W1,W7
01388:  MOV     W7,W4
0138A:  MOV     #A,W3
0138C:  REPEAT  #11
0138E:  DIV.U   W4,W3
01390:  MOV     W1,W7
01392:  MOV     #0,W1
01394:  MOV     W1,W0
01396:  CLR.B   1
01398:  CALL    318
0139C:  INC     W1,W1
0139E:  MOV     W1,[W15++]
013A0:  MOV     W0,886
013A2:  CALL    D2C
013A6:  MOV     [--W15],W1
013A8:  MOV     #A,W0
013AA:  CPSGT   W1,W0
013AC:  BRA     1394
013AE:  MOV     W5,W0
013B0:  MOV     #0,W4
013B2:  CALL    FDC
013B6:  MOV     #2E,W4
013B8:  MOV     W4,886
013BA:  CALL    D2C
013BE:  MOV     W6,W0
013C0:  MOV     #0,W4
013C2:  CALL    FDC
013C6:  MOV     W7,W0
013C8:  MOV     #0,W4
013CA:  CALL    FDC
013CE:  MOV     #41,W4
013D0:  MOV     W4,886
013D2:  CALL    D2C
013D6:  MOV     [--W15],W7
013D8:  MOV     [--W15],W6
013DA:  MOV     [--W15],W5
013DC:  RETURN  
.................... } 
.................... unsigned int16 multi_read_adc (unsigned int8 channel,unsigned int16 samling) 
*
00D92:  MOV     W5,[W15++]
00D94:  MOV     W6,[W15++]
.................... { 
....................    unsigned int16 val_adc,val_return; 
....................    unsigned int32 val_convert; 
....................    unsigned int16 i; 
....................    for(i = 0;i < samling;i ++) 
00D96:  CLR     88A
00D98:  MOV     88A,W0
00D9A:  MOV     880,W4
00D9C:  CP      W4,W0
00D9E:  BRA     LEU,DD2
....................    { 
....................       set_adc_channel (channel); 
00DA0:  MOV.B   87E,W0L
00DA2:  MOV.B   W0L,328
00DA4:  CLR.B   329
....................       delay_us(10); 
00DA6:  REPEAT  #62
00DA8:  NOP     
....................       val_adc = read_adc(); 
00DAA:  BCLR.B  320.0
00DAC:  BSET.B  320.1
00DAE:  BTSS.B  320.0
00DB0:  BRA     DAE
00DB2:  PUSH    300
00DB4:  POP     882
....................       M[channel] += val_adc; 
00DB6:  MOV.B   87E,W0L
00DB8:  CLR.B   1
00DBA:  SL      W0,#2,W0
00DBC:  MOV     #81A,W4
00DBE:  ADD     W0,W4,W5
00DC0:  MOV     [W5],W0
00DC2:  ADD     882,W0
00DC4:  MOV     W0,[W5]
00DC6:  MOV     [++W5],W4
00DC8:  ADDC    W4,#0,W4
00DCA:  MOV     W4,[W5]
00DCC:  INC     088A
00DCE:  GOTO    D98
....................    } 
....................    val_convert = M[channel]/samling; 
00DD2:  MOV.B   87E,W0L
00DD4:  CLR.B   1
00DD6:  SL      W0,#2,W0
00DD8:  MOV     #81A,W4
00DDA:  ADD     W0,W4,W0
00DDC:  MOV     #A,W4
00DDE:  MOV     [W0++],[W4++]
00DE0:  MOV     [W0++],[W4++]
00DE2:  BCLR.B  43.0
00DE4:  MOV     W5,W0
00DE6:  MOV     W6,W1
00DE8:  MOV     880,W2
00DEA:  MOV     #0,W3
00DEC:  CALL    D3E
00DF0:  MOV     W0,886
00DF2:  MOV     W1,888
....................    M[channel] = 0; 
00DF4:  MOV.B   87E,W0L
00DF6:  CLR.B   1
00DF8:  SL      W0,#2,W0
00DFA:  MOV     #81A,W4
00DFC:  ADD     W0,W4,W5
00DFE:  CLR.B   [W5]
00E00:  MOV.B   #0,W0L
00E02:  MOV.B   W0L,[W5+#1]
00E04:  MOV.B   #0,W0L
00E06:  MOV.B   W0L,[W5+#2]
00E08:  MOV.B   #0,W0L
00E0A:  MOV.B   W0L,[W5+#3]
....................    val_return = val_convert; 
00E0C:  PUSH    886
00E0E:  POP     884
....................    return (val_return); 
00E10:  PUSH    884
00E12:  POP     0
00E14:  MOV     [--W15],W6
00E16:  MOV     [--W15],W5
00E18:  RETURN  
.................... } 

Configuration Fuses:
   Word  1L: 00CF   NOWRTB NOBSS NORBS
          H: FF00  
   Word  2L: 00CF   NOWRTSS NOSSS NORSS
          H: FF00  
   Word  3L: 0007   NOWRT NOPROTECT
          H: FF00  
   Word  4L: 0082   PR IESO
          H: FF00  
   Word  5L: 0006   HS NOOSCIO CKSFSM
          H: FF00  
   Word  6L: 005F   WPOSTS16 WPRES128 WINDIS NOWDT
          H: FF00  
   Word  7L: 00E7   PUT128 LPOL_HIGH HPOL_HIGH NOPWMPIN
          H: FF00  
   Word  8L: 00C3   ICSP1 NOJTAG NODEBUG
          H: FF00  
